<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Code Standards for Practical Meta AudioCraft</title>
  <meta name="description" content="A hands-on guide to creating music, sound effects, and audio experiences with AI">
  <link rel="canonical" href="https://scttfrdmn.github.io/practical-meta-audiocraft/CODE_STANDARDS/">
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .wrapper {
      max-width: 100%;
    }
    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 20px;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 2rem;
      margin-bottom: 1rem;
    }
    h1 { color: #1a73e8; }
    h2 { color: #34a853; }
    a {
      color: #1a73e8;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .site-header {
      border-bottom: 1px solid #eee;
      padding: 15px 0;
      margin-bottom: 30px;
    }
    .site-title {
      margin: 0;
      font-size: 1.8rem;
    }
    .site-title a {
      color: #1a73e8;
      text-decoration: none;
    }
    .site-nav {
      float: right;
      margin-top: 10px;
    }
    .site-nav .page-link {
      margin-left: 20px;
    }
    .nav-trigger {
      display: none;
    }
    .menu-icon {
      display: none;
    }
    .page-content {
      padding: 20px 0;
    }
    .site-footer {
      border-top: 1px solid #eee;
      padding: 30px 0;
      margin-top: 60px;
    }
    .footer-col-wrapper {
      display: flex;
      flex-wrap: wrap;
    }
    .footer-col {
      flex: 1;
      min-width: 200px;
      padding-right: 20px;
    }
    code {
      background-color: #f5f5f5;
      padding: 2px 5px;
      border-radius: 3px;
    }
    pre {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
    }
    .highlight {
      background-color: #f5f5f5;
      border-radius: 5px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px 12px;
    }
    th {
      background-color: #f5f5f5;
      text-align: left;
    }
    button, .button {
      display: inline-block;
      background-color: #1a73e8;
      color: white !important;
      padding: 10px 20px;
      border-radius: 4px;
      font-weight: bold;
      margin-top: 20px;
      border: none;
      cursor: pointer;
      text-decoration: none !important;
    }
    button:hover, .button:hover {
      background-color: #0d65d9;
    }
    .feature {
      background-color: #f5f5f5;
      border-radius: 8px;
      padding: 20px;
      border-left: 4px solid #1a73e8;
      margin-bottom: 20px;
    }
    
    @media screen and (max-width: 600px) {
      .site-nav {
        position: absolute;
        top: 70px;
        right: 20px;
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 5px;
        text-align: right;
        padding: 0;
        z-index: 1;
      }
      .site-nav .page-link {
        display: block;
        padding: 10px;
        margin: 0;
      }
      .site-nav .menu-icon {
        display: block;
        float: right;
        width: 36px;
        height: 26px;
        line-height: 0;
        padding-top: 10px;
        text-align: center;
      }
      .site-nav .trigger {
        clear: both;
        display: none;
      }
      .site-nav input:checked ~ .trigger {
        display: block;
        padding-bottom: 5px;
      }
      .footer-col-wrapper {
        flex-direction: column;
      }
      .footer-col {
        margin-bottom: 20px;
      }
    }
  </style>
</head><body>
    <div class="wrapper">
      <header class="site-header">
        <div class="container">
          <h1 class="site-title"><a href="/practical-meta-audiocraft/">Practical Meta AudioCraft</a></h1>
          <nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger" />
            <label for="nav-trigger">
              <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                  <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484c0-0.82,0.665-1.485,1.484-1.485 h15.032C17.335,0,18,0.665,18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516 c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,6.031,18,6.696,18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516c0-0.82,0.665-1.483,1.484-1.483h15.032 C17.335,12.031,18,12.696,18,13.516z"/>
                </svg>
              </span>
            </label>

            <div class="trigger">
              <a class="page-link" href="/practical-meta-audiocraft/">Home</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part1/introduction/">Getting Started</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part2/basic-music/">MusicGen</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part3/introduction-to-audiogen/">AudioGen</a>
              <a class="page-link" href="/practical-meta-audiocraft/tutorials/getting-started/">Tutorials</a>
            </div>
          </nav>
        </div>
      </header>

      <main class="page-content" aria-label="Content">
        <div class="container">
          <h1 id="code-standards-for-practical-meta-audiocraft">Code Standards for Practical Meta AudioCraft</h1>

<p>Copyright © 2025 Scott Friedman.<br />
Licensed under Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>

<p>This document defines the coding standards, documentation guidelines, and best practices for all code examples in the “Practical Meta AudioCraft” book. Consistent code style helps readers focus on concepts rather than being distracted by stylistic differences between chapters.</p>

<h2 id="file-structure-standards">File Structure Standards</h2>

<h3 id="1-file-header">1. File Header</h3>

<p>All Python files should begin with a standardized header:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
# filename.py - Brief description of what this file does
# Part of "Practical Meta AudioCraft" - Chapter X: Chapter Title
</span></code></pre></div></div>

<h3 id="2-import-organization">2. Import Organization</h3>

<p>Imports should be grouped and ordered as follows:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Standard library imports
</span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># Third-party imports
</span><span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">torchaudio</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># AudioCraft imports
</span><span class="kn">from</span> <span class="nn">audiocraft.models</span> <span class="kn">import</span> <span class="n">MusicGen</span><span class="p">,</span> <span class="n">AudioGen</span>
<span class="kn">from</span> <span class="nn">audiocraft.data.audio</span> <span class="kn">import</span> <span class="n">audio_write</span>
<span class="kn">from</span> <span class="nn">audiocraft.utils.notebook</span> <span class="kn">import</span> <span class="n">display_audio</span>
</code></pre></div></div>

<h3 id="3-main-function-structure">3. Main Function Structure</h3>

<p>Files that can be run as scripts should use the standard <code class="language-plaintext highlighter-rouge">if __name__ == "__main__":</code> pattern:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="s">"""Main function that runs when the script is executed directly."""</span>
    <span class="c1"># Main functionality here
</span>    <span class="k">pass</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="code-commenting-standards">Code Commenting Standards</h2>

<h3 id="1-function-docstrings">1. Function Docstrings</h3>

<p>All functions should have detailed docstrings following this format:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">,</span> <span class="n">optional_param</span><span class="o">=</span><span class="n">default_value</span><span class="p">):</span>
    <span class="s">"""
    Brief description of what the function does.
    
    Args:
        param1 (type): Description of param1
        param2 (type): Description of param2
        optional_param (type, optional): Description of optional_param. Defaults to default_value.
    
    Returns:
        return_type: Description of return value
        
    Raises:
        ExceptionType: When/why this exception might be raised
        
    Notes:
        Additional information, caveats, or implementation details
    
    Example:
        &gt;&gt;&gt; result = function_name("example", 42)
        &gt;&gt;&gt; print(result)
        Expected output
    """</span>
</code></pre></div></div>

<h3 id="2-class-docstrings">2. Class Docstrings</h3>

<p>Classes should have detailed docstrings following this format:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ClassName</span><span class="p">:</span>
    <span class="s">"""
    Brief description of the class purpose.
    
    Detailed description of the class, its behavior, and usage.
    
    Attributes:
        attr1 (type): Description of attr1
        attr2 (type): Description of attr2
    
    Notes:
        Any additional information or caveats
    
    Example:
        &gt;&gt;&gt; obj = ClassName(param)
        &gt;&gt;&gt; obj.method()
        Expected output
    """</span>
</code></pre></div></div>

<h3 id="3-section-comments">3. Section Comments</h3>

<p>Use section comments to divide logical parts of the code:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ----- Device Configuration -----
# Determine the best available device for computation
</span><span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">backends</span><span class="p">.</span><span class="n">mps</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
    <span class="n">device</span> <span class="o">=</span> <span class="s">"mps"</span>  <span class="c1"># Apple Silicon GPU
</span>    <span class="k">print</span><span class="p">(</span><span class="s">"Using MPS (Metal) for generation"</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
    <span class="n">device</span> <span class="o">=</span> <span class="s">"cuda"</span>  <span class="c1"># NVIDIA GPU
</span>    <span class="k">print</span><span class="p">(</span><span class="s">"Using CUDA for generation"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">device</span> <span class="o">=</span> <span class="s">"cpu"</span>  <span class="c1"># Fallback to CPU
</span>    <span class="k">print</span><span class="p">(</span><span class="s">"Using CPU for generation (this will be slow)"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="4-inline-comments">4. Inline Comments</h3>

<p>Use inline comments to explain non-obvious code:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create a filesystem-safe filename from the prompt
# This truncates long prompts and replaces special characters
</span><span class="n">safe_prompt</span> <span class="o">=</span> <span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">if</span> <span class="n">c</span><span class="p">.</span><span class="n">isalnum</span><span class="p">()</span> <span class="k">else</span> <span class="s">"_"</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">prompt</span><span class="p">)[:</span><span class="mi">30</span><span class="p">]</span>
</code></pre></div></div>

<h2 id="code-style-guidelines">Code Style Guidelines</h2>

<h3 id="1-variable-naming">1. Variable Naming</h3>

<ul>
  <li>Use descriptive variable names that clearly indicate purpose</li>
  <li>Follow Python conventions:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">snake_case</code> for variables and functions</li>
      <li><code class="language-plaintext highlighter-rouge">PascalCase</code> for classes</li>
      <li><code class="language-plaintext highlighter-rouge">UPPER_CASE</code> for constants</li>
    </ul>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Good examples
</span><span class="n">model_size</span> <span class="o">=</span> <span class="s">"medium"</span>                  <span class="c1"># Clear variable name
</span><span class="n">sample_rate</span> <span class="o">=</span> <span class="mi">32000</span>                    <span class="c1"># Technical parameter
</span><span class="n">AUDIO_FORMATS</span> <span class="o">=</span> <span class="p">[</span><span class="s">"wav"</span><span class="p">,</span> <span class="s">"mp3"</span><span class="p">,</span> <span class="s">"ogg"</span><span class="p">]</span>  <span class="c1"># Constant
</span></code></pre></div></div>

<h3 id="2-error-handling">2. Error Handling</h3>

<p>All examples should include proper error handling:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Operation that might fail
</span>    <span class="n">model</span> <span class="o">=</span> <span class="n">MusicGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="n">model_size</span><span class="p">)</span>
    <span class="n">model</span><span class="p">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">RuntimeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">if</span> <span class="s">"CUDA out of memory"</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"ERROR: Not enough GPU memory for </span><span class="si">{</span><span class="n">model_size</span><span class="si">}</span><span class="s"> model."</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Try using a smaller model size ('small' instead of 'medium' or 'large')"</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Or reduce the duration of the generated audio"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"ERROR: Failed to load model: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    <span class="c1"># Provide fallback or exit gracefully
</span></code></pre></div></div>

<h3 id="3-parameter-validation">3. Parameter Validation</h3>

<p>Validate input parameters at the beginning of functions:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">generate_music</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">model_size</span><span class="o">=</span><span class="s">"small"</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="s">"""Generate music with parameter validation."""</span>
    <span class="c1"># Validate parameters
</span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">prompt</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Prompt must be a non-empty string"</span><span class="p">)</span>
        
    <span class="k">if</span> <span class="n">duration</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">duration</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Duration must be between 0 and 30 seconds"</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">model_size</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s">"small"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Model size must be 'small', 'medium', or 'large'"</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">temperature</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">temperature</span> <span class="o">&gt;</span> <span class="mf">2.0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Temperature must be between 0 and 2.0"</span><span class="p">)</span>
    
    <span class="c1"># Function implementation...
</span></code></pre></div></div>

<h3 id="4-resource-cleanup">4. Resource Cleanup</h3>

<p>Include proper resource cleanup in examples:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">generate_with_cleanup</span><span class="p">():</span>
    <span class="s">"""Generate audio with proper cleanup."""</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Generation code...
</span>        <span class="k">pass</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># Clean up resources
</span>        <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">empty_cache</span><span class="p">()</span>
        
        <span class="c1"># Other cleanup as needed
</span></code></pre></div></div>

<h2 id="hardware-awareness-standards">Hardware Awareness Standards</h2>

<h3 id="1-device-detection">1. Device Detection</h3>

<p>Always include standardized device detection:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_device</span><span class="p">():</span>
    <span class="s">"""Determine the best available device for computation."""</span>
    <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">backends</span><span class="p">.</span><span class="n">mps</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="k">return</span> <span class="s">"mps"</span>  <span class="c1"># Apple Silicon GPU
</span>    <span class="k">elif</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="k">return</span> <span class="s">"cuda"</span>  <span class="c1"># NVIDIA GPU
</span>    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">"cpu"</span>  <span class="c1"># Fallback to CPU
</span></code></pre></div></div>

<h3 id="2-performance-considerations">2. Performance Considerations</h3>

<p>Include hardware-specific performance notes:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">generate_with_performance_notes</span><span class="p">(</span><span class="n">model_size</span><span class="o">=</span><span class="s">"small"</span><span class="p">):</span>
    <span class="s">"""Generate audio with performance considerations."""</span>
    <span class="n">device</span> <span class="o">=</span> <span class="n">get_device</span><span class="p">()</span>
    
    <span class="c1"># Provide performance expectations
</span>    <span class="n">expected_times</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"cuda"</span><span class="p">:</span> <span class="p">{</span><span class="s">"small"</span><span class="p">:</span> <span class="s">"5-10s"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">:</span> <span class="s">"10-20s"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">:</span> <span class="s">"20-40s"</span><span class="p">},</span>
        <span class="s">"mps"</span><span class="p">:</span> <span class="p">{</span><span class="s">"small"</span><span class="p">:</span> <span class="s">"10-20s"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">:</span> <span class="s">"30-60s"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">:</span> <span class="s">"60-120s"</span><span class="p">},</span>
        <span class="s">"cpu"</span><span class="p">:</span> <span class="p">{</span><span class="s">"small"</span><span class="p">:</span> <span class="s">"60-120s"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">:</span> <span class="s">"180-300s"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">:</span> <span class="s">"300-600s"</span><span class="p">}</span>
    <span class="p">}</span>
    
    <span class="n">device_name</span> <span class="o">=</span> <span class="s">"GPU (CUDA)"</span> <span class="k">if</span> <span class="n">device</span> <span class="o">==</span> <span class="s">"cuda"</span> <span class="k">else</span> <span class="s">"Apple Silicon (MPS)"</span> <span class="k">if</span> <span class="n">device</span> <span class="o">==</span> <span class="s">"mps"</span> <span class="k">else</span> <span class="s">"CPU"</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Using </span><span class="si">{</span><span class="n">device_name</span><span class="si">}</span><span class="s"> for generation"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Expected generation time: </span><span class="si">{</span><span class="n">expected_times</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">expected_times</span><span class="p">[</span><span class="s">'cpu'</span><span class="p">]).</span><span class="n">get</span><span class="p">(</span><span class="n">model_size</span><span class="p">,</span> <span class="s">'unknown'</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    
    <span class="c1"># Generation code...
</span></code></pre></div></div>

<h3 id="3-memory-management">3. Memory Management</h3>

<p>Include memory management guidance:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">check_memory_requirements</span><span class="p">(</span><span class="n">model_size</span><span class="o">=</span><span class="s">"small"</span><span class="p">):</span>
    <span class="s">"""Check if the system meets memory requirements."""</span>
    <span class="n">memory_required</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"small"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>  <span class="c1"># GB
</span>        <span class="s">"medium"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="c1"># GB
</span>        <span class="s">"large"</span><span class="p">:</span> <span class="mi">8</span>   <span class="c1"># GB
</span>    <span class="p">}</span>
    
    <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="n">gpu_memory</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">get_device_properties</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="n">total_memory</span> <span class="o">/</span> <span class="mi">1024</span><span class="o">**</span><span class="mi">3</span>  <span class="c1"># Convert to GB
</span>        <span class="k">if</span> <span class="n">gpu_memory</span> <span class="o">&lt;</span> <span class="n">memory_required</span><span class="p">[</span><span class="n">model_size</span><span class="p">]:</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"WARNING: Your GPU has </span><span class="si">{</span><span class="n">gpu_memory</span><span class="p">:.</span><span class="mi">1</span><span class="n">f</span><span class="si">}</span><span class="s">GB memory, but </span><span class="si">{</span><span class="n">model_size</span><span class="si">}</span><span class="s"> model typically requires </span><span class="si">{</span><span class="n">memory_required</span><span class="p">[</span><span class="n">model_size</span><span class="p">]</span><span class="si">}</span><span class="s">GB"</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"Generation may fail or be very slow. Consider using a smaller model."</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">psutil</span>
        <span class="n">system_memory</span> <span class="o">=</span> <span class="n">psutil</span><span class="p">.</span><span class="n">virtual_memory</span><span class="p">().</span><span class="n">total</span> <span class="o">/</span> <span class="mi">1024</span><span class="o">**</span><span class="mi">3</span>  <span class="c1"># Convert to GB
</span>        <span class="k">if</span> <span class="n">system_memory</span> <span class="o">&lt;</span> <span class="n">memory_required</span><span class="p">[</span><span class="n">model_size</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">:</span>  <span class="c1"># CPU needs more memory than GPU
</span>            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"WARNING: Your system has </span><span class="si">{</span><span class="n">system_memory</span><span class="p">:.</span><span class="mi">1</span><span class="n">f</span><span class="si">}</span><span class="s">GB memory, but </span><span class="si">{</span><span class="n">model_size</span><span class="si">}</span><span class="s"> model on CPU typically requires </span><span class="si">{</span><span class="n">memory_required</span><span class="p">[</span><span class="n">model_size</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1.5</span><span class="si">}</span><span class="s">GB"</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"Generation may fail or be very slow. Consider using a smaller model."</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="reusable-components">Reusable Components</h2>

<h3 id="1-standard-utility-functions">1. Standard Utility Functions</h3>

<p>Include a set of standard utility functions that can be reused across examples:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">save_audio</span><span class="p">(</span><span class="n">wav_tensor</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="s">"output"</span><span class="p">):</span>
    <span class="s">"""
    Save audio tensor to file with proper directory creation and error handling.
    
    Args:
        wav_tensor (torch.Tensor): Audio tensor to save
        filename (str): Base filename (without extension)
        sample_rate (int): Sample rate of the audio
        output_dir (str): Directory to save the file
    
    Returns:
        str: Full path to the saved audio file
    """</span>
    <span class="c1"># Create output directory
</span>    <span class="n">os</span><span class="p">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Create full output path
</span>    <span class="n">output_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Save audio file
</span>        <span class="n">audio_write</span><span class="p">(</span>
            <span class="n">output_path</span><span class="p">,</span>
            <span class="n">wav_tensor</span><span class="p">.</span><span class="n">cpu</span><span class="p">(),</span>
            <span class="n">sample_rate</span><span class="p">,</span>
            <span class="n">strategy</span><span class="o">=</span><span class="s">"loudness"</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">output_path</span><span class="si">}</span><span class="s">.wav"</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Error saving audio: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>
</code></pre></div></div>

<h3 id="2-configuration-templates">2. Configuration Templates</h3>

<p>Include standard configuration templates:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_default_generation_params</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s">"music"</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">10.0</span><span class="p">):</span>
    <span class="s">"""
    Get default generation parameters for AudioCraft models.
    
    Args:
        model_type (str): Either "music" for MusicGen or "audio" for AudioGen
        duration (float): Duration in seconds
    
    Returns:
        dict: Default parameters for the specified model type
    """</span>
    <span class="c1"># Base parameters common to both models
</span>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"duration"</span><span class="p">:</span> <span class="n">duration</span><span class="p">,</span>
        <span class="s">"temperature"</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="s">"top_k"</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
        <span class="s">"top_p"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="p">}</span>
    
    <span class="c1"># Model-specific adjustments
</span>    <span class="k">if</span> <span class="n">model_type</span> <span class="o">==</span> <span class="s">"audio"</span><span class="p">:</span>
        <span class="c1"># AudioGen often works better with slightly higher temperature
</span>        <span class="n">params</span><span class="p">[</span><span class="s">"temperature"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.1</span>
    <span class="k">elif</span> <span class="n">model_type</span> <span class="o">==</span> <span class="s">"music"</span><span class="p">:</span>
        <span class="c1"># Add MusicGen-specific parameters
</span>        <span class="n">params</span><span class="p">[</span><span class="s">"cfg_coef"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.0</span>
    
    <span class="k">return</span> <span class="n">params</span>
</code></pre></div></div>

<h2 id="documentation-patterns">Documentation Patterns</h2>

<h3 id="1-example-usage-patterns">1. Example Usage Patterns</h3>

<p>Each code file should include example usage patterns:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">example_function</span><span class="p">():</span>
    <span class="s">"""Example function documented with usage patterns."""</span>
    <span class="k">pass</span>

<span class="c1"># ----- Example Usage -----
# Basic usage:
# result = example_function()
#
# Advanced usage:
# result = example_function(additional_param=value)
</span></code></pre></div></div>

<h3 id="2-practical-considerations-section">2. Practical Considerations Section</h3>

<p>Include a “Practical Considerations” section in comments:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ----- Practical Considerations -----
# 1. Memory Usage: This example requires approximately 4GB of GPU memory with the 'medium' model
# 2. Generation Time: Expect 10-30 seconds on GPU, 1-3 minutes on CPU
# 3. Quality vs. Speed: 'small' model is faster but produces less detailed audio
# 4. Prompt Effectiveness: Detailed, specific prompts produce better results than vague ones
</span></code></pre></div></div>

<h2 id="code-example-templates">Code Example Templates</h2>

<h3 id="1-basic-generate-function-template">1. Basic Generate Function Template</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">generate_audio</span><span class="p">(</span>
    <span class="n">model_type</span><span class="p">,</span>      <span class="c1"># "music" or "audio"
</span>    <span class="n">prompt</span><span class="p">,</span>          <span class="c1"># Text description
</span>    <span class="n">duration</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>   <span class="c1"># Duration in seconds
</span>    <span class="n">model_size</span><span class="o">=</span><span class="s">"small"</span><span class="p">,</span>  <span class="c1"># Model size
</span>    <span class="n">temperature</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="c1"># Creativity control
</span>    <span class="n">output_dir</span><span class="o">=</span><span class="s">"output"</span>  <span class="c1"># Output directory
</span><span class="p">):</span>
    <span class="s">"""
    Generate audio using either MusicGen or AudioGen.
    
    Args:
        model_type (str): Either "music" or "audio"
        prompt (str): Text description of what to generate
        duration (float): Length of audio in seconds
        model_size (str): Size of model to use
        temperature (float): Controls randomness/creativity
        output_dir (str): Directory to save output
    
    Returns:
        str: Path to the generated audio file
    """</span>
    <span class="c1"># Validate parameters
</span>    <span class="k">if</span> <span class="n">model_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s">"music"</span><span class="p">,</span> <span class="s">"audio"</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"model_type must be either 'music' or 'audio'"</span><span class="p">)</span>
        
    <span class="c1"># Create output directory
</span>    <span class="n">os</span><span class="p">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Determine device
</span>    <span class="n">device</span> <span class="o">=</span> <span class="n">get_device</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Using device: </span><span class="si">{</span><span class="n">device</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Load appropriate model
</span>        <span class="k">if</span> <span class="n">model_type</span> <span class="o">==</span> <span class="s">"music"</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">MusicGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="n">model_size</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Loaded MusicGen </span><span class="si">{</span><span class="n">model_size</span><span class="si">}</span><span class="s"> model"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># model_type == "audio"
</span>            <span class="n">model</span> <span class="o">=</span> <span class="n">AudioGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="n">model_size</span> <span class="k">if</span> <span class="n">model_size</span> <span class="o">!=</span> <span class="s">"small"</span> <span class="k">else</span> <span class="s">"medium"</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Loaded AudioGen </span><span class="si">{</span><span class="n">model_size</span><span class="si">}</span><span class="s"> model"</span><span class="p">)</span>
            
        <span class="c1"># Move model to device
</span>        <span class="n">model</span><span class="p">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
        
        <span class="c1"># Set generation parameters
</span>        <span class="n">model</span><span class="p">.</span><span class="n">set_generation_params</span><span class="p">(</span>
            <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span>
            <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span><span class="p">,</span>
            <span class="n">top_k</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span>
            <span class="n">top_p</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="p">)</span>
        
        <span class="c1"># Generate audio
</span>        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Generating </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s">s of audio from prompt: '</span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s">'"</span><span class="p">)</span>
        <span class="n">wav</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">([</span><span class="n">prompt</span><span class="p">])</span>
        
        <span class="c1"># Create filename
</span>        <span class="n">safe_prompt</span> <span class="o">=</span> <span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">if</span> <span class="n">c</span><span class="p">.</span><span class="n">isalnum</span><span class="p">()</span> <span class="k">else</span> <span class="s">"_"</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">prompt</span><span class="p">)[:</span><span class="mi">30</span><span class="p">]</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">model_type</span><span class="si">}</span><span class="s">_</span><span class="si">{</span><span class="n">safe_prompt</span><span class="si">}</span><span class="s">_</span><span class="si">{</span><span class="n">model_size</span><span class="si">}</span><span class="s">"</span>
        
        <span class="c1"># Save audio file
</span>        <span class="n">output_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="n">audio_write</span><span class="p">(</span>
            <span class="n">output_path</span><span class="p">,</span>
            <span class="n">wav</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">cpu</span><span class="p">(),</span>
            <span class="n">model</span><span class="p">.</span><span class="n">sample_rate</span><span class="p">,</span>
            <span class="n">strategy</span><span class="o">=</span><span class="s">"loudness"</span>
        <span class="p">)</span>
        
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Audio saved to </span><span class="si">{</span><span class="n">output_path</span><span class="si">}</span><span class="s">.wav"</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">output_path</span><span class="si">}</span><span class="s">.wav"</span>
        
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Error generating audio: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># Clean up
</span>        <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">empty_cache</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="2-interactive-example-template">2. Interactive Example Template</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">interactive_generation</span><span class="p">():</span>
    <span class="s">"""Run an interactive audio generation session."""</span>
    <span class="kn">import</span> <span class="nn">argparse</span>
    
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s">"Interactive audio generation"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">"--type"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s">"music"</span><span class="p">,</span> <span class="s">"audio"</span><span class="p">],</span> <span class="n">default</span><span class="o">=</span><span class="s">"music"</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s">"Type of audio to generate: 'music' or 'audio'"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">"--model"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s">"small"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">],</span> <span class="n">default</span><span class="o">=</span><span class="s">"small"</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s">"Model size to use"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">"--output"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">"generated_audio"</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s">"Output directory"</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="n">parse_args</span><span class="p">()</span>
    
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"=== Interactive </span><span class="si">{</span><span class="n">args</span><span class="p">.</span><span class="nb">type</span><span class="p">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s"> Generation ==="</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Using </span><span class="si">{</span><span class="n">args</span><span class="p">.</span><span class="n">model</span><span class="si">}</span><span class="s"> model, saving to </span><span class="si">{</span><span class="n">args</span><span class="p">.</span><span class="n">output</span><span class="si">}</span><span class="s">/"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Type 'exit' to quit"</span><span class="p">)</span>
    
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="c1"># Get prompt
</span>        <span class="n">prompt</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Enter a description: "</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">prompt</span><span class="p">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s">'exit'</span><span class="p">:</span>
            <span class="k">break</span>
            
        <span class="c1"># Get duration
</span>        <span class="k">try</span><span class="p">:</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s">"Enter duration in seconds (5-30): "</span><span class="p">))</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mf">30.0</span><span class="p">,</span> <span class="n">duration</span><span class="p">))</span>  <span class="c1"># Clamp to valid range
</span>        <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="mf">10.0</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Using default duration: </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s">s"</span><span class="p">)</span>
            
        <span class="c1"># Get temperature
</span>        <span class="k">try</span><span class="p">:</span>
            <span class="n">temperature</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s">"Enter temperature (0.1-2.0): "</span><span class="p">))</span>
            <span class="n">temperature</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">temperature</span><span class="p">))</span>  <span class="c1"># Clamp to valid range
</span>        <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
            <span class="n">temperature</span> <span class="o">=</span> <span class="mf">1.0</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Using default temperature: </span><span class="si">{</span><span class="n">temperature</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
            
        <span class="c1"># Generate
</span>        <span class="n">generate_audio</span><span class="p">(</span>
            <span class="n">model_type</span><span class="o">=</span><span class="n">args</span><span class="p">.</span><span class="nb">type</span><span class="p">,</span>
            <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
            <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span>
            <span class="n">model_size</span><span class="o">=</span><span class="n">args</span><span class="p">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span><span class="p">,</span>
            <span class="n">output_dir</span><span class="o">=</span><span class="n">args</span><span class="p">.</span><span class="n">output</span>
        <span class="p">)</span>
</code></pre></div></div>

<h2 id="example-quality-checklist">Example Quality Checklist</h2>

<p>Before including any code example in the book, ensure it meets the following criteria:</p>

<ol class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Follows all coding standards defined in this document</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Includes comprehensive error handling</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Validates input parameters</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Has complete and accurate documentation</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Demonstrates hardware awareness</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Includes proper resource cleanup</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Provides practical considerations</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Features example usage patterns</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Has been tested on multiple hardware configurations</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Includes realistic performance expectations</li>
</ol>

<h2 id="additional-resources">Additional Resources</h2>

<ul>
  <li><a href="https://www.python.org/dev/peps/pep-0008/">PEP 8 - Style Guide for Python Code</a></li>
  <li><a href="https://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a></li>
  <li><a href="https://github.com/facebookresearch/audiocraft">AudioCraft GitHub Repository</a></li>
  <li><a href="https://pytorch.org/docs/stable/">PyTorch Documentation Style</a></li>
</ul>

        </div>
      </main>

      <footer class="site-footer">
        <div class="container">
          <div class="footer-col-wrapper">
            <div class="footer-col">
              <p>A hands-on guide to creating music, sound effects, and audio experiences with AI</p>
              <p>
                <a href="https://github.com/facebookresearch/audiocraft">AudioCraft GitHub Repository</a>
              </p>
            </div>
            <div class="footer-col">
              <p class="copyright">
                Copyright © 2025 Scott Friedman.<br>
                Licensed under <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a>.
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>