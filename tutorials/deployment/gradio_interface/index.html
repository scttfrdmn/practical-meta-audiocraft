<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Building Web Interfaces with Gradio</title>
  <meta name="description" content="A hands-on guide to creating music, sound effects, and audio experiences with AI">
  <link rel="canonical" href="https://scttfrdmn.github.io/practical-meta-audiocraft/tutorials/deployment/gradio_interface/">
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .wrapper {
      max-width: 100%;
    }
    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 20px;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 2rem;
      margin-bottom: 1rem;
    }
    h1 { color: #1a73e8; }
    h2 { color: #34a853; }
    a {
      color: #1a73e8;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .site-header {
      border-bottom: 1px solid #eee;
      padding: 15px 0;
      margin-bottom: 30px;
    }
    .site-title {
      margin: 0;
      font-size: 1.8rem;
    }
    .site-title a {
      color: #1a73e8;
      text-decoration: none;
    }
    .site-nav {
      float: right;
      margin-top: 10px;
    }
    .site-nav .page-link {
      margin-left: 20px;
    }
    .nav-trigger {
      display: none;
    }
    .menu-icon {
      display: none;
    }
    .page-content {
      padding: 20px 0;
    }
    .site-footer {
      border-top: 1px solid #eee;
      padding: 30px 0;
      margin-top: 60px;
    }
    .footer-col-wrapper {
      display: flex;
      flex-wrap: wrap;
    }
    .footer-col {
      flex: 1;
      min-width: 200px;
      padding-right: 20px;
    }
    code {
      background-color: #f5f5f5;
      padding: 2px 5px;
      border-radius: 3px;
    }
    pre {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
    }
    .highlight {
      background-color: #f5f5f5;
      border-radius: 5px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px 12px;
    }
    th {
      background-color: #f5f5f5;
      text-align: left;
    }
    button, .button {
      display: inline-block;
      background-color: #1a73e8;
      color: white !important;
      padding: 10px 20px;
      border-radius: 4px;
      font-weight: bold;
      margin-top: 20px;
      border: none;
      cursor: pointer;
      text-decoration: none !important;
    }
    button:hover, .button:hover {
      background-color: #0d65d9;
    }
    .feature {
      background-color: #f5f5f5;
      border-radius: 8px;
      padding: 20px;
      border-left: 4px solid #1a73e8;
      margin-bottom: 20px;
    }
    
    @media screen and (max-width: 600px) {
      .site-nav {
        position: absolute;
        top: 70px;
        right: 20px;
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 5px;
        text-align: right;
        padding: 0;
        z-index: 1;
      }
      .site-nav .page-link {
        display: block;
        padding: 10px;
        margin: 0;
      }
      .site-nav .menu-icon {
        display: block;
        float: right;
        width: 36px;
        height: 26px;
        line-height: 0;
        padding-top: 10px;
        text-align: center;
      }
      .site-nav .trigger {
        clear: both;
        display: none;
      }
      .site-nav input:checked ~ .trigger {
        display: block;
        padding-bottom: 5px;
      }
      .footer-col-wrapper {
        flex-direction: column;
      }
      .footer-col {
        margin-bottom: 20px;
      }
    }
  </style>
</head><body>
    <div class="wrapper">
      <header class="site-header">
        <div class="container">
          <h1 class="site-title"><a href="/practical-meta-audiocraft/">Practical Meta AudioCraft</a></h1>
          <nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger" />
            <label for="nav-trigger">
              <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                  <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484c0-0.82,0.665-1.485,1.484-1.485 h15.032C17.335,0,18,0.665,18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516 c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,6.031,18,6.696,18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516c0-0.82,0.665-1.483,1.484-1.483h15.032 C17.335,12.031,18,12.696,18,13.516z"/>
                </svg>
              </span>
            </label>

            <div class="trigger">
              <a class="page-link" href="/practical-meta-audiocraft/">Home</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part1/introduction/">Getting Started</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part2/basic-music/">MusicGen</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part3/introduction-to-audiogen/">AudioGen</a>
              <a class="page-link" href="/practical-meta-audiocraft/tutorials/getting-started/">Tutorials</a>
            </div>
          </nav>
        </div>
      </header>

      <main class="page-content" aria-label="Content">
        <div class="container">
          <h1 id="building-web-interfaces-with-gradio">Building Web Interfaces with Gradio</h1>

<p>This tutorial guides you through creating interactive web interfaces for AudioCraft using Gradio. Gradio allows you to build beautiful, user-friendly interfaces for your audio generation models with minimal code.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>AudioCraft successfully installed</li>
  <li>Basic understanding of Python</li>
  <li>Familiarity with web concepts (optional)</li>
</ul>

<h2 id="installation">Installation</h2>

<p>Install Gradio alongside AudioCraft:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>gradio
</code></pre></div></div>

<h2 id="why-gradio-for-audiocraft">Why Gradio for AudioCraft?</h2>

<p>Gradio offers several advantages for AudioCraft applications:</p>

<ol>
  <li><strong>Simplicity</strong>: Create UIs with just a few lines of code</li>
  <li><strong>Audio Support</strong>: Built-in components for audio playback and visualization</li>
  <li><strong>Interactive</strong>: Real-time parameter adjustment and generation</li>
  <li><strong>Shareable</strong>: Easily share demos with others via temporary links</li>
  <li><strong>Customizable</strong>: Flexible layouts and styling options</li>
</ol>

<h2 id="basic-audiocraft-interface">Basic AudioCraft Interface</h2>

<p>Let’s start with a simple MusicGen interface:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># simple_musicgen_interface.py
</span><span class="kn">import</span> <span class="nn">gradio</span> <span class="k">as</span> <span class="n">gr</span>
<span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">from</span> <span class="nn">audiocraft.models</span> <span class="kn">import</span> <span class="n">MusicGen</span>

<span class="c1"># Load model
</span><span class="n">model</span> <span class="o">=</span> <span class="n">MusicGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="s">'small'</span><span class="p">)</span>

<span class="c1"># Detect device and move model
</span><span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
    <span class="n">device</span> <span class="o">=</span> <span class="s">"cuda"</span>
    <span class="n">model</span><span class="p">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">torch</span><span class="p">.</span><span class="n">backends</span><span class="p">.</span><span class="n">mps</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
    <span class="n">device</span> <span class="o">=</span> <span class="s">"mps"</span>
    <span class="n">model</span><span class="p">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">device</span> <span class="o">=</span> <span class="s">"cpu"</span>
    
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Using device: </span><span class="si">{</span><span class="n">device</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">generate_music</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">model_size</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="s">"""Generate music based on text prompt."""</span>
    <span class="c1"># Load appropriate model if changed
</span>    <span class="k">global</span> <span class="n">model</span>
    <span class="k">if</span> <span class="n">model</span><span class="p">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">model_size</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Loading </span><span class="si">{</span><span class="n">model_size</span><span class="si">}</span><span class="s"> model..."</span><span class="p">)</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">MusicGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="n">model_size</span><span class="p">)</span>
        <span class="n">model</span><span class="p">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
        
    <span class="c1"># Set generation parameters
</span>    <span class="n">model</span><span class="p">.</span><span class="n">set_generation_params</span><span class="p">(</span>
        <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span>
        <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span><span class="p">,</span>
    <span class="p">)</span>
    
    <span class="c1"># Generate audio
</span>    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Generating: '</span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s">'"</span><span class="p">)</span>
    <span class="n">wav</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">([</span><span class="n">prompt</span><span class="p">])</span>
    
    <span class="c1"># Return audio for playback
</span>    <span class="k">return</span> <span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">sample_rate</span><span class="p">,</span> <span class="n">wav</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">cpu</span><span class="p">().</span><span class="n">numpy</span><span class="p">())</span>

<span class="c1"># Create the Gradio interface
</span><span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Interface</span><span class="p">(</span>
    <span class="n">fn</span><span class="o">=</span><span class="n">generate_music</span><span class="p">,</span>
    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span>
        <span class="n">gr</span><span class="p">.</span><span class="n">Textbox</span><span class="p">(</span>
            <span class="n">label</span><span class="o">=</span><span class="s">"Music Description"</span><span class="p">,</span> 
            <span class="n">placeholder</span><span class="o">=</span><span class="s">"Enter a description of the music you want to generate"</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s">"A gentle piano melody with ambient pads in the background"</span>
        <span class="p">),</span>
        <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span><span class="n">minimum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"Duration (seconds)"</span><span class="p">),</span>
        <span class="n">gr</span><span class="p">.</span><span class="n">Radio</span><span class="p">([</span><span class="s">"small"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s">"Model Size"</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">"small"</span><span class="p">),</span>
        <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span><span class="n">minimum</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"Temperature"</span><span class="p">)</span>
    <span class="p">],</span>
    <span class="n">outputs</span><span class="o">=</span><span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">"Generated Music"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">"numpy"</span><span class="p">),</span>
    <span class="n">title</span><span class="o">=</span><span class="s">"MusicGen: Text-to-Music Generation"</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s">"Generate music from text descriptions using Meta's MusicGen model."</span>
<span class="p">)</span>

<span class="c1"># Launch the interface
</span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">demo</span><span class="p">.</span><span class="n">launch</span><span class="p">()</span>
</code></pre></div></div>

<p>Save this as <code class="language-plaintext highlighter-rouge">simple_musicgen_interface.py</code> and run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python simple_musicgen_interface.py
</code></pre></div></div>

<p>This will start a local web server (typically at http://127.0.0.1:7860) with your interface.</p>

<h2 id="advanced-gradio-interface">Advanced Gradio Interface</h2>

<p>Let’s create a more comprehensive interface with additional features:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># advanced_musicgen_interface.py
</span><span class="kn">import</span> <span class="nn">gradio</span> <span class="k">as</span> <span class="n">gr</span>
<span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">torchaudio</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">uuid</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="nn">audiocraft.models</span> <span class="kn">import</span> <span class="n">MusicGen</span>

<span class="c1"># Create output directory for generations
</span><span class="n">OUTPUT_DIR</span> <span class="o">=</span> <span class="s">"music_generations"</span>
<span class="n">os</span><span class="p">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">OUTPUT_DIR</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Set up global model cache
</span><span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">def</span> <span class="nf">get_model</span><span class="p">(</span><span class="n">model_size</span><span class="p">):</span>
    <span class="s">"""Load and cache model of specified size."""</span>
    <span class="k">if</span> <span class="n">model_size</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Loading </span><span class="si">{</span><span class="n">model_size</span><span class="si">}</span><span class="s"> model..."</span><span class="p">)</span>
        <span class="n">models</span><span class="p">[</span><span class="n">model_size</span><span class="p">]</span> <span class="o">=</span> <span class="n">MusicGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="n">model_size</span><span class="p">)</span>
        
        <span class="c1"># Determine device
</span>        <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="n">device</span> <span class="o">=</span> <span class="s">"cuda"</span>
        <span class="k">elif</span> <span class="n">torch</span><span class="p">.</span><span class="n">backends</span><span class="p">.</span><span class="n">mps</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="n">device</span> <span class="o">=</span> <span class="s">"mps"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">device</span> <span class="o">=</span> <span class="s">"cpu"</span>
            
        <span class="n">models</span><span class="p">[</span><span class="n">model_size</span><span class="p">].</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Model loaded on </span><span class="si">{</span><span class="n">device</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">models</span><span class="p">[</span><span class="n">model_size</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">visualize_waveform</span><span class="p">(</span><span class="n">audio_data</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">):</span>
    <span class="s">"""Create waveform visualization of audio."""</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">audio_data</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Waveform"</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">"Sample"</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"Amplitude"</span><span class="p">)</span>
    
    <span class="c1"># Create a unique filename
</span>    <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">uuid</span><span class="p">.</span><span class="n">uuid4</span><span class="p">()</span><span class="si">}</span><span class="s">_waveform.png"</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">OUTPUT_DIR</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">filepath</span>

<span class="k">def</span> <span class="nf">visualize_spectrogram</span><span class="p">(</span><span class="n">audio_data</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">):</span>
    <span class="s">"""Create spectrogram visualization of audio."""</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    
    <span class="c1"># Calculate the spectrogram
</span>    <span class="n">n_fft</span> <span class="o">=</span> <span class="mi">2048</span>
    <span class="n">hop_length</span> <span class="o">=</span> <span class="mi">512</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">abs</span><span class="p">(</span><span class="n">librosa</span><span class="p">.</span><span class="n">stft</span><span class="p">(</span><span class="n">audio_data</span><span class="p">,</span> <span class="n">n_fft</span><span class="o">=</span><span class="n">n_fft</span><span class="p">,</span> <span class="n">hop_length</span><span class="o">=</span><span class="n">hop_length</span><span class="p">))</span>
    <span class="n">spec_db</span> <span class="o">=</span> <span class="n">librosa</span><span class="p">.</span><span class="n">amplitude_to_db</span><span class="p">(</span><span class="n">spec</span><span class="p">,</span> <span class="n">ref</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nb">max</span><span class="p">)</span>
    
    <span class="c1"># Plot the spectrogram
</span>    <span class="n">librosa</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">specshow</span><span class="p">(</span><span class="n">spec_db</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sample_rate</span><span class="p">,</span> <span class="n">hop_length</span><span class="o">=</span><span class="n">hop_length</span><span class="p">,</span> <span class="n">x_axis</span><span class="o">=</span><span class="s">'time'</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">=</span><span class="s">'log'</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">colorbar</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s">'%+2.0f dB'</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Spectrogram"</span><span class="p">)</span>
    
    <span class="c1"># Create a unique filename
</span>    <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">uuid</span><span class="p">.</span><span class="n">uuid4</span><span class="p">()</span><span class="si">}</span><span class="s">_spectrogram.png"</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">OUTPUT_DIR</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">filepath</span>

<span class="k">def</span> <span class="nf">process_melody</span><span class="p">(</span><span class="n">melody_file</span><span class="p">):</span>
    <span class="s">"""Process a melody file for conditioning."""</span>
    <span class="k">if</span> <span class="n">melody_file</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>
        
    <span class="c1"># Load melody file
</span>    <span class="n">melody</span><span class="p">,</span> <span class="n">sr</span> <span class="o">=</span> <span class="n">torchaudio</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">melody_file</span><span class="p">)</span>
    
    <span class="c1"># Convert to mono if stereo
</span>    <span class="k">if</span> <span class="n">melody</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">melody</span> <span class="o">=</span> <span class="n">melody</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">keepdim</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Resample if needed
</span>    <span class="k">if</span> <span class="n">sr</span> <span class="o">!=</span> <span class="mi">32000</span><span class="p">:</span>
        <span class="n">resampler</span> <span class="o">=</span> <span class="n">torchaudio</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">Resample</span><span class="p">(</span><span class="n">sr</span><span class="p">,</span> <span class="mi">32000</span><span class="p">)</span>
        <span class="n">melody</span> <span class="o">=</span> <span class="n">resampler</span><span class="p">(</span><span class="n">melody</span><span class="p">)</span>
    
    <span class="c1"># Return the processed melody and sample rate
</span>    <span class="k">return</span> <span class="n">melody</span><span class="p">,</span> <span class="mi">32000</span>

<span class="k">def</span> <span class="nf">generate_with_params</span><span class="p">(</span>
    <span class="n">prompt</span><span class="p">,</span> 
    <span class="n">duration</span><span class="p">,</span> 
    <span class="n">model_size</span><span class="p">,</span> 
    <span class="n">use_melody</span><span class="p">,</span>
    <span class="n">melody_file</span><span class="p">,</span>
    <span class="n">temperature</span><span class="p">,</span> 
    <span class="n">top_k</span><span class="p">,</span> 
    <span class="n">top_p</span><span class="p">,</span>
    <span class="n">cfg_coef</span><span class="p">,</span>
    <span class="n">seed</span>
<span class="p">):</span>
    <span class="s">"""Generate music with all parameters."""</span>
    <span class="c1"># Set random seed if provided
</span>    <span class="k">if</span> <span class="n">seed</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">seed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">torch</span><span class="p">.</span><span class="n">manual_seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    
    <span class="c1"># Get appropriate model
</span>    <span class="n">model</span> <span class="o">=</span> <span class="n">get_model</span><span class="p">(</span><span class="n">model_size</span><span class="p">)</span>
    
    <span class="c1"># Set generation parameters
</span>    <span class="n">model</span><span class="p">.</span><span class="n">set_generation_params</span><span class="p">(</span>
        <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span>
        <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span><span class="p">,</span>
        <span class="n">top_k</span><span class="o">=</span><span class="n">top_k</span><span class="p">,</span>
        <span class="n">top_p</span><span class="o">=</span><span class="n">top_p</span><span class="p">,</span>
        <span class="n">cfg_coef</span><span class="o">=</span><span class="n">cfg_coef</span>
    <span class="p">)</span>
    
    <span class="c1"># Start timing
</span>    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
    
    <span class="c1"># Determine if we're using melody conditioning
</span>    <span class="k">if</span> <span class="n">use_melody</span> <span class="ow">and</span> <span class="n">melody_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="c1"># Process melody file
</span>        <span class="n">melody</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">process_melody</span><span class="p">(</span><span class="n">melody_file</span><span class="p">)</span>
        
        <span class="c1"># Move melody to same device as model
</span>        <span class="n">device</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">parameters</span><span class="p">()).</span><span class="n">device</span>
        <span class="n">melody</span> <span class="o">=</span> <span class="n">melody</span><span class="p">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
        
        <span class="c1"># Generate with melody conditioning
</span>        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Generating with melody conditioning: '</span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s">'"</span><span class="p">)</span>
        <span class="n">wav</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">generate_with_chroma</span><span class="p">([</span><span class="n">prompt</span><span class="p">],</span> <span class="n">melody</span><span class="p">.</span><span class="n">unsqueeze</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Generate without melody
</span>        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Generating: '</span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s">'"</span><span class="p">)</span>
        <span class="n">wav</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">([</span><span class="n">prompt</span><span class="p">])</span>
    
    <span class="c1"># Calculate generation time
</span>    <span class="n">generation_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Generated in </span><span class="si">{</span><span class="n">generation_time</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> seconds"</span><span class="p">)</span>
    
    <span class="c1"># Save the file for later reference
</span>    <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">uuid</span><span class="p">.</span><span class="n">uuid4</span><span class="p">()</span><span class="si">}</span><span class="s">"</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">OUTPUT_DIR</span><span class="p">,</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s">.wav"</span><span class="p">)</span>
    <span class="n">torchaudio</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">wav</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">cpu</span><span class="p">(),</span> <span class="n">model</span><span class="p">.</span><span class="n">sample_rate</span><span class="p">)</span>
    
    <span class="c1"># Get audio data as numpy array for visualization
</span>    <span class="n">audio_data</span> <span class="o">=</span> <span class="n">wav</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">cpu</span><span class="p">().</span><span class="n">numpy</span><span class="p">()</span>
    
    <span class="c1"># Create visualizations
</span>    <span class="n">waveform_img</span> <span class="o">=</span> <span class="n">visualize_waveform</span><span class="p">(</span><span class="n">audio_data</span><span class="p">,</span> <span class="n">model</span><span class="p">.</span><span class="n">sample_rate</span><span class="p">)</span>
    <span class="n">spectrogram_img</span> <span class="o">=</span> <span class="bp">None</span>  <span class="c1"># Only compute if needed
</span>    
    <span class="c1"># Return results
</span>    <span class="n">generation_info</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"Generated in </span><span class="si">{</span><span class="n">generation_time</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">s with </span><span class="si">{</span><span class="n">model_size</span><span class="si">}</span><span class="s"> model</span><span class="se">\n</span><span class="s">Prompt: </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="se">\n</span><span class="s">Seed: </span><span class="si">{</span><span class="n">seed</span> <span class="k">if</span> <span class="n">seed</span> <span class="k">else</span> <span class="s">'random'</span><span class="si">}</span><span class="s">"</span>
    
    <span class="k">return</span> <span class="p">(</span>
        <span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">sample_rate</span><span class="p">,</span> <span class="n">audio_data</span><span class="p">),</span>  <span class="c1"># Audio for playback
</span>        <span class="n">waveform_img</span><span class="p">,</span>                     <span class="c1"># Waveform visualization
</span>        <span class="n">filepath</span><span class="p">,</span>                         <span class="c1"># File path for download
</span>        <span class="n">generation_info</span>                   <span class="c1"># Generation info
</span>    <span class="p">)</span>

<span class="c1"># Presets for different musical styles
</span><span class="n">style_presets</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"Electronic"</span><span class="p">:</span> <span class="s">"An electronic dance track with a catchy melody, driving beat, and synthesizer pads"</span><span class="p">,</span>
    <span class="s">"Orchestral"</span><span class="p">:</span> <span class="s">"An epic orchestral piece with sweeping strings, brass fanfare, and dramatic percussion"</span><span class="p">,</span>
    <span class="s">"Acoustic"</span><span class="p">:</span> <span class="s">"A gentle acoustic guitar melody with piano accompaniment and soft strings in the background"</span><span class="p">,</span>
    <span class="s">"Jazz"</span><span class="p">:</span> <span class="s">"A cool jazz piece with piano, upright bass, brushed drums, and saxophone solo"</span><span class="p">,</span>
    <span class="s">"Lo-Fi"</span><span class="p">:</span> <span class="s">"A lo-fi hip hop beat with relaxed drums, mellow piano, and atmospheric samples"</span><span class="p">,</span>
    <span class="s">"Rock"</span><span class="p">:</span> <span class="s">"An energetic rock track with distorted electric guitars, driving drums, and powerful vocals"</span><span class="p">,</span>
    <span class="s">"Ambient"</span><span class="p">:</span> <span class="s">"A peaceful ambient soundscape with ethereal pads, subtle textures, and gentle evolution"</span><span class="p">,</span>
    <span class="s">"8-bit"</span><span class="p">:</span> <span class="s">"An 8-bit video game soundtrack with chiptune sounds, simple melody, and nostalgic feeling"</span>
<span class="p">}</span>

<span class="c1"># Create the Gradio interface with tabs and more features
</span><span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Blocks</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">"AudioCraft MusicGen Studio"</span><span class="p">)</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
    <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"# AudioCraft MusicGen Studio"</span><span class="p">)</span>
    <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"Generate music from text descriptions using Meta's MusicGen model"</span><span class="p">)</span>
    
    <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Tabs</span><span class="p">():</span>
        <span class="c1"># Simple generation tab
</span>        <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">TabItem</span><span class="p">(</span><span class="s">"Basic Generation"</span><span class="p">):</span>
            <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
                    <span class="n">prompt_input</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Textbox</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Music Description"</span><span class="p">,</span> 
                        <span class="n">placeholder</span><span class="o">=</span><span class="s">"Enter a description of the music you want to generate"</span><span class="p">,</span>
                        <span class="n">value</span><span class="o">=</span><span class="s">"A gentle piano melody with ambient pads in the background"</span><span class="p">,</span>
                        <span class="n">lines</span><span class="o">=</span><span class="mi">3</span>
                    <span class="p">)</span>
                    
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
                    <span class="n">style_preset</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Dropdown</span><span class="p">(</span>
                        <span class="n">choices</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">style_presets</span><span class="p">.</span><span class="n">keys</span><span class="p">()),</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Style Preset"</span><span class="p">,</span>
                        <span class="n">value</span><span class="o">=</span><span class="bp">None</span>
                    <span class="p">)</span>
            
            <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
                    <span class="n">model_size</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Radio</span><span class="p">(</span>
                        <span class="p">[</span><span class="s">"small"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">],</span> 
                        <span class="n">label</span><span class="o">=</span><span class="s">"Model Size"</span><span class="p">,</span> 
                        <span class="n">value</span><span class="o">=</span><span class="s">"small"</span><span class="p">,</span>
                        <span class="n">info</span><span class="o">=</span><span class="s">"Larger models produce better quality but take longer"</span>
                    <span class="p">)</span>
                    <span class="n">duration</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                        <span class="n">minimum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> 
                        <span class="n">label</span><span class="o">=</span><span class="s">"Duration (seconds)"</span>
                    <span class="p">)</span>
                    
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
                    <span class="n">temperature</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                        <span class="n">minimum</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> 
                        <span class="n">label</span><span class="o">=</span><span class="s">"Temperature"</span><span class="p">,</span>
                        <span class="n">info</span><span class="o">=</span><span class="s">"Higher = more creative, Lower = more coherent"</span>
                    <span class="p">)</span>
                    <span class="n">seed</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Number</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Random Seed"</span><span class="p">,</span> 
                        <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                        <span class="n">info</span><span class="o">=</span><span class="s">"Set to 0 for random generation each time"</span>
                    <span class="p">)</span>
            
            <span class="n">generate_btn</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Button</span><span class="p">(</span><span class="s">"Generate Music"</span><span class="p">,</span> <span class="n">variant</span><span class="o">=</span><span class="s">"primary"</span><span class="p">)</span>
            
            <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
                    <span class="n">audio_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Generated Music"</span><span class="p">,</span> 
                        <span class="nb">type</span><span class="o">=</span><span class="s">"numpy"</span>
                    <span class="p">)</span>
                    <span class="n">generation_info</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Textbox</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Generation Info"</span><span class="p">,</span> 
                        <span class="n">interactive</span><span class="o">=</span><span class="bp">False</span>
                    <span class="p">)</span>
                    
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
                    <span class="n">waveform_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Image</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Waveform"</span><span class="p">,</span> 
                        <span class="nb">type</span><span class="o">=</span><span class="s">"filepath"</span>
                    <span class="p">)</span>
                    <span class="n">file_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">File</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Download Generated Audio"</span>
                    <span class="p">)</span>
            
        <span class="c1"># Advanced generation tab
</span>        <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">TabItem</span><span class="p">(</span><span class="s">"Advanced Options"</span><span class="p">):</span>
            <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
                    <span class="n">advanced_prompt</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Textbox</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Music Description"</span><span class="p">,</span> 
                        <span class="n">placeholder</span><span class="o">=</span><span class="s">"Enter a detailed description of the music you want to generate"</span><span class="p">,</span>
                        <span class="n">value</span><span class="o">=</span><span class="s">"A complex jazz fusion composition with intricate piano chords, syncopated drums, and a walking bass line"</span><span class="p">,</span>
                        <span class="n">lines</span><span class="o">=</span><span class="mi">3</span>
                    <span class="p">)</span>
                    
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
                    <span class="n">adv_model_size</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Radio</span><span class="p">(</span>
                        <span class="p">[</span><span class="s">"small"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">],</span> 
                        <span class="n">label</span><span class="o">=</span><span class="s">"Model Size"</span><span class="p">,</span> 
                        <span class="n">value</span><span class="o">=</span><span class="s">"medium"</span>
                    <span class="p">)</span>
                    <span class="n">adv_duration</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                        <span class="n">minimum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> 
                        <span class="n">label</span><span class="o">=</span><span class="s">"Duration (seconds)"</span>
                    <span class="p">)</span>
            
            <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">():</span>
                    <span class="n">use_melody</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Checkbox</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Use Melody Conditioning"</span><span class="p">,</span>
                        <span class="n">value</span><span class="o">=</span><span class="bp">False</span>
                    <span class="p">)</span>
                    <span class="n">melody_input</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Melody Reference (optional)"</span><span class="p">,</span>
                        <span class="nb">type</span><span class="o">=</span><span class="s">"filepath"</span><span class="p">,</span>
                        <span class="n">visible</span><span class="o">=</span><span class="bp">False</span>
                    <span class="p">)</span>
                    
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">():</span>
                    <span class="n">adv_temperature</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                        <span class="n">minimum</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> 
                        <span class="n">label</span><span class="o">=</span><span class="s">"Temperature"</span>
                    <span class="p">)</span>
                    <span class="n">top_k</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                        <span class="n">minimum</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> 
                        <span class="n">label</span><span class="o">=</span><span class="s">"Top-K"</span><span class="p">,</span>
                        <span class="n">info</span><span class="o">=</span><span class="s">"Number of highest probability tokens to consider"</span>
                    <span class="p">)</span>
                    <span class="n">top_p</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                        <span class="n">minimum</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> 
                        <span class="n">label</span><span class="o">=</span><span class="s">"Top-P"</span><span class="p">,</span> 
                        <span class="n">info</span><span class="o">=</span><span class="s">"Nucleus sampling: 0.0 to disable, &gt;0 for dynamic token selection"</span>
                    <span class="p">)</span>
                    <span class="n">cfg_coef</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                        <span class="n">minimum</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Classifier-Free Guidance"</span><span class="p">,</span>
                        <span class="n">info</span><span class="o">=</span><span class="s">"How strictly to follow the prompt (higher = more faithful)"</span>
                    <span class="p">)</span>
                    <span class="n">adv_seed</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Number</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Random Seed"</span><span class="p">,</span> 
                        <span class="n">value</span><span class="o">=</span><span class="mi">42</span>
                    <span class="p">)</span>
            
            <span class="n">adv_generate_btn</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Button</span><span class="p">(</span><span class="s">"Generate Music"</span><span class="p">,</span> <span class="n">variant</span><span class="o">=</span><span class="s">"primary"</span><span class="p">)</span>
            
            <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
                    <span class="n">adv_audio_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Generated Music"</span><span class="p">,</span> 
                        <span class="nb">type</span><span class="o">=</span><span class="s">"numpy"</span>
                    <span class="p">)</span>
                    <span class="n">adv_generation_info</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Textbox</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Generation Info"</span><span class="p">,</span> 
                        <span class="n">interactive</span><span class="o">=</span><span class="bp">False</span>
                    <span class="p">)</span>
                    
                <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
                    <span class="n">adv_waveform_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Image</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Waveform"</span><span class="p">,</span> 
                        <span class="nb">type</span><span class="o">=</span><span class="s">"filepath"</span>
                    <span class="p">)</span>
                    <span class="n">adv_file_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">File</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s">"Download Generated Audio"</span>
                    <span class="p">)</span>
        
        <span class="c1"># History and comparison tab
</span>        <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">TabItem</span><span class="p">(</span><span class="s">"History &amp; Compare"</span><span class="p">):</span>
            <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"### Generation History"</span><span class="p">)</span>
            <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"Your recent generations will appear here for comparison."</span><span class="p">)</span>
            
            <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
                <span class="n">history_audio1</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">"Sample 1"</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">"filepath"</span><span class="p">)</span>
                <span class="n">history_audio2</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">"Sample 2"</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">"filepath"</span><span class="p">)</span>
            
            <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
                <span class="n">history_audio3</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">"Sample 3"</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">"filepath"</span><span class="p">)</span>
                <span class="n">history_audio4</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">"Sample 4"</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">"filepath"</span><span class="p">)</span>
    
    <span class="c1"># Set up event handlers
</span>    
    <span class="c1"># Apply style presets
</span>    <span class="k">def</span> <span class="nf">apply_preset</span><span class="p">(</span><span class="n">preset_name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">preset_name</span> <span class="ow">in</span> <span class="n">style_presets</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">style_presets</span><span class="p">[</span><span class="n">preset_name</span><span class="p">]</span>
        <span class="k">return</span> <span class="s">""</span>
    
    <span class="n">style_preset</span><span class="p">.</span><span class="n">change</span><span class="p">(</span><span class="n">apply_preset</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">style_preset</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">prompt_input</span><span class="p">)</span>
    
    <span class="c1"># Toggle melody input visibility
</span>    <span class="n">use_melody</span><span class="p">.</span><span class="n">change</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">gr</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">visible</span><span class="o">=</span><span class="n">x</span><span class="p">),</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">use_melody</span><span class="p">,</span>
        <span class="n">outputs</span><span class="o">=</span><span class="n">melody_input</span>
    <span class="p">)</span>
    
    <span class="c1"># Basic generation tab events
</span>    <span class="n">generate_btn</span><span class="p">.</span><span class="n">click</span><span class="p">(</span>
        <span class="n">generate_with_params</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="p">[</span>
            <span class="n">prompt_input</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">model_size</span><span class="p">,</span> 
            <span class="n">gr</span><span class="p">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>  <span class="c1"># Hidden use_melody
</span>            <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span><span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>                  <span class="c1"># Hidden melody_file
</span>            <span class="n">temperature</span><span class="p">,</span> 
            <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>      <span class="c1"># Hidden top_k
</span>            <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>      <span class="c1"># Hidden top_p
</span>            <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>      <span class="c1"># Hidden cfg_coef
</span>            <span class="n">seed</span>
        <span class="p">],</span>
        <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">audio_output</span><span class="p">,</span> <span class="n">waveform_output</span><span class="p">,</span> <span class="n">file_output</span><span class="p">,</span> <span class="n">generation_info</span><span class="p">]</span>
    <span class="p">)</span>
    
    <span class="c1"># Advanced generation tab events
</span>    <span class="n">adv_generate_btn</span><span class="p">.</span><span class="n">click</span><span class="p">(</span>
        <span class="n">generate_with_params</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="p">[</span>
            <span class="n">advanced_prompt</span><span class="p">,</span> <span class="n">adv_duration</span><span class="p">,</span> <span class="n">adv_model_size</span><span class="p">,</span>
            <span class="n">use_melody</span><span class="p">,</span> <span class="n">melody_input</span><span class="p">,</span> <span class="n">adv_temperature</span><span class="p">,</span>
            <span class="n">top_k</span><span class="p">,</span> <span class="n">top_p</span><span class="p">,</span> <span class="n">cfg_coef</span><span class="p">,</span> <span class="n">adv_seed</span>
        <span class="p">],</span>
        <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">adv_audio_output</span><span class="p">,</span> <span class="n">adv_waveform_output</span><span class="p">,</span> <span class="n">adv_file_output</span><span class="p">,</span> <span class="n">adv_generation_info</span><span class="p">]</span>
    <span class="p">)</span>
    
    <span class="c1"># History tracking function
</span>    <span class="n">current_index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">history_outputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">history_audio1</span><span class="p">,</span> <span class="n">history_audio2</span><span class="p">,</span> <span class="n">history_audio3</span><span class="p">,</span> <span class="n">history_audio4</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">update_history</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">waveform</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
        <span class="k">nonlocal</span> <span class="n">current_index</span>
        <span class="n">history_outputs</span><span class="p">[</span><span class="n">current_index</span><span class="p">].</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">history_outputs</span><span class="p">[</span><span class="n">current_index</span><span class="p">].</span><span class="n">value</span> <span class="o">=</span> <span class="n">file_path</span>
        <span class="n">current_index</span> <span class="o">=</span> <span class="p">(</span><span class="n">current_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">history_outputs</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">audio</span><span class="p">,</span> <span class="n">waveform</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">info</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">gr</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">visible</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">history_outputs</span><span class="p">]</span>
    
    <span class="c1"># Connect history updates to both generation buttons
</span>    <span class="n">generate_btn</span><span class="p">.</span><span class="n">click</span><span class="p">(</span>
        <span class="n">update_history</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="n">audio_output</span><span class="p">,</span> <span class="n">waveform_output</span><span class="p">,</span> <span class="n">file_output</span><span class="p">,</span> <span class="n">generation_info</span><span class="p">],</span>
        <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">audio_output</span><span class="p">,</span> <span class="n">waveform_output</span><span class="p">,</span> <span class="n">file_output</span><span class="p">,</span> <span class="n">generation_info</span><span class="p">]</span> <span class="o">+</span> <span class="n">history_outputs</span>
    <span class="p">)</span>
    
    <span class="n">adv_generate_btn</span><span class="p">.</span><span class="n">click</span><span class="p">(</span>
        <span class="n">update_history</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="n">adv_audio_output</span><span class="p">,</span> <span class="n">adv_waveform_output</span><span class="p">,</span> <span class="n">adv_file_output</span><span class="p">,</span> <span class="n">adv_generation_info</span><span class="p">],</span>
        <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">adv_audio_output</span><span class="p">,</span> <span class="n">adv_waveform_output</span><span class="p">,</span> <span class="n">adv_file_output</span><span class="p">,</span> <span class="n">adv_generation_info</span><span class="p">]</span> <span class="o">+</span> <span class="n">history_outputs</span>
    <span class="p">)</span>

<span class="c1"># Launch the app
</span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">demo</span><span class="p">.</span><span class="n">launch</span><span class="p">()</span>
</code></pre></div></div>

<p>Save this as <code class="language-plaintext highlighter-rouge">advanced_musicgen_interface.py</code> and run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python advanced_musicgen_interface.py
</code></pre></div></div>

<p>This advanced interface includes:</p>
<ul>
  <li>Tabbed layout for basic and advanced options</li>
  <li>Style presets for quick generation</li>
  <li>Melody conditioning support</li>
  <li>Audio waveform visualization</li>
  <li>Generation history for comparisons</li>
  <li>Advanced parameter controls</li>
</ul>

<h2 id="deployment-options">Deployment Options</h2>

<h3 id="local-sharing">Local Sharing</h3>

<p>To temporarily share your Gradio app with others:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">demo</span><span class="p">.</span><span class="n">launch</span><span class="p">(</span><span class="n">share</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<p>This will generate a public URL that’s valid for 72 hours.</p>

<h3 id="hosted-deployment">Hosted Deployment</h3>

<p>You can deploy your Gradio interface to Hugging Face Spaces:</p>

<ol>
  <li>Create a GitHub repository with your Gradio app</li>
  <li>Include <code class="language-plaintext highlighter-rouge">requirements.txt</code>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gradio&gt;=3.50.2
audiocraft
torch&gt;=2.1.0
torchaudio&gt;=2.1.0
matplotlib
</code></pre></div>    </div>
  </li>
  <li>Create a <code class="language-plaintext highlighter-rouge">README.md</code> file with app documentation</li>
  <li>Create a Hugging Face Space using the “Gradio” option</li>
  <li>Connect it to your GitHub repository</li>
</ol>

<h3 id="embedding-in-existing-web-applications">Embedding in Existing Web Applications</h3>

<p>You can embed Gradio interfaces in other web applications:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create your interface
</span><span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Interface</span><span class="p">(...)</span>

<span class="c1"># Get the HTML for embedding
</span><span class="n">html_embed</span> <span class="o">=</span> <span class="n">demo</span><span class="p">.</span><span class="n">get_embed_html</span><span class="p">()</span>

<span class="c1"># Now you can insert html_embed into your existing web page
</span></code></pre></div></div>

<h2 id="customizing-the-interface">Customizing the Interface</h2>

<h3 id="custom-layout">Custom Layout</h3>

<p>Gradio’s Blocks API allows for complete layout customization:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Blocks</span><span class="p">()</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
        <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
            <span class="c1"># Left column content
</span>            <span class="n">prompt_input</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Textbox</span><span class="p">(...)</span>
            <span class="n">parameter_slider</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(...)</span>
        
        <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="c1"># Right column content
</span>            <span class="n">image_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Image</span><span class="p">(...)</span>
    
    <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
        <span class="c1"># Bottom row content
</span>        <span class="n">audio_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(...)</span>
</code></pre></div></div>

<h3 id="custom-css">Custom CSS</h3>

<p>Add custom styling to your Gradio app:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">custom_css</span> <span class="o">=</span> <span class="s">"""
.gradio-container {
    background-color: #f5f5f5;
}
.main-header {
    font-family: 'Arial', sans-serif;
    font-size: 2.5rem;
    color: #2c3e50;
}
"""</span>

<span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Blocks</span><span class="p">(</span><span class="n">css</span><span class="o">=</span><span class="n">custom_css</span><span class="p">)</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
    <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"# MusicGen Studio"</span><span class="p">,</span> <span class="n">elem_classes</span><span class="o">=</span><span class="p">[</span><span class="s">"main-header"</span><span class="p">])</span>
    <span class="c1"># Rest of your interface
</span></code></pre></div></div>

<h3 id="custom-javascript">Custom JavaScript</h3>

<p>For interactive features, you can add custom JavaScript:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">custom_js</span> <span class="o">=</span> <span class="s">"""
function updateCounter(seconds) {
    const counterElem = document.getElementById('generation-counter');
    counterElem.textContent = seconds;
}
"""</span>

<span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Blocks</span><span class="p">(</span><span class="n">js</span><span class="o">=</span><span class="n">custom_js</span><span class="p">)</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
    <span class="c1"># Your interface components
</span></code></pre></div></div>

<h2 id="performance-optimization">Performance Optimization</h2>

<h3 id="model-caching">Model Caching</h3>

<p>Cache models to avoid reloading between generations:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Global model cache
</span><span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">def</span> <span class="nf">get_model</span><span class="p">(</span><span class="n">model_size</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">model_size</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
        <span class="n">models</span><span class="p">[</span><span class="n">model_size</span><span class="p">]</span> <span class="o">=</span> <span class="n">MusicGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="n">model_size</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">models</span><span class="p">[</span><span class="n">model_size</span><span class="p">]</span>
</code></pre></div></div>

<h3 id="progress-indicators">Progress Indicators</h3>

<p>Add progress indicators for long-running generations:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">generate_with_progress</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">model_size</span><span class="p">):</span>
    <span class="n">progress</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Progress</span><span class="p">(</span><span class="n">track_tqdm</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Load model
</span>    <span class="n">progress</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">"Loading model..."</span><span class="p">)</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">get_model</span><span class="p">(</span><span class="n">model_size</span><span class="p">)</span>
    
    <span class="c1"># Prepare for generation
</span>    <span class="n">progress</span><span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">"Setting up generation..."</span><span class="p">)</span>
    <span class="n">model</span><span class="p">.</span><span class="n">set_generation_params</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
    
    <span class="c1"># Generate audio
</span>    <span class="n">progress</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">"Generating audio..."</span><span class="p">)</span>
    <span class="n">wav</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">([</span><span class="n">prompt</span><span class="p">])</span>
    
    <span class="c1"># Process output
</span>    <span class="n">progress</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">"Processing output..."</span><span class="p">)</span>
    <span class="c1"># ... processing code ...
</span>    
    <span class="n">progress</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">"Complete!"</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">sample_rate</span><span class="p">,</span> <span class="n">wav</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">cpu</span><span class="p">().</span><span class="n">numpy</span><span class="p">())</span>
</code></pre></div></div>

<h3 id="background-processing">Background Processing</h3>

<p>For time-consuming operations, use background processing with <code class="language-plaintext highlighter-rouge">gr.FlaggingCallback</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">process_in_background</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">model_size</span><span class="p">):</span>
    <span class="c1"># This function will run in the background
</span>    <span class="c1"># ... generation code ...
</span>    <span class="k">return</span> <span class="n">result</span>

<span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Interface</span><span class="p">(</span>
    <span class="n">fn</span><span class="o">=</span><span class="n">process_in_background</span><span class="p">,</span>
    <span class="n">inputs</span><span class="o">=</span><span class="p">[...],</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[...],</span>
    <span class="n">flagging_callback</span><span class="o">=</span><span class="n">gr</span><span class="p">.</span><span class="n">FlaggingCallback</span><span class="p">()</span>
<span class="p">)</span>
</code></pre></div></div>

<h2 id="building-a-two-model-interface">Building a Two-Model Interface</h2>

<p>Let’s create an interface that demonstrates both MusicGen and AudioGen side-by-side:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># dual_model_interface.py
</span><span class="kn">import</span> <span class="nn">gradio</span> <span class="k">as</span> <span class="n">gr</span>
<span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">from</span> <span class="nn">audiocraft.models</span> <span class="kn">import</span> <span class="n">MusicGen</span><span class="p">,</span> <span class="n">AudioGen</span>

<span class="c1"># Cache for models
</span><span class="n">models</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"MusicGen"</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s">"AudioGen"</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="k">def</span> <span class="nf">get_model</span><span class="p">(</span><span class="n">model_type</span><span class="p">,</span> <span class="n">model_size</span><span class="p">):</span>
    <span class="s">"""Load and cache models."""</span>
    <span class="k">if</span> <span class="n">model_size</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">models</span><span class="p">[</span><span class="n">model_type</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">model_type</span> <span class="o">==</span> <span class="s">"MusicGen"</span><span class="p">:</span>
            <span class="n">models</span><span class="p">[</span><span class="n">model_type</span><span class="p">][</span><span class="n">model_size</span><span class="p">]</span> <span class="o">=</span> <span class="n">MusicGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="n">model_size</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">models</span><span class="p">[</span><span class="n">model_type</span><span class="p">][</span><span class="n">model_size</span><span class="p">]</span> <span class="o">=</span> <span class="n">AudioGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="n">model_size</span><span class="p">)</span>
        
        <span class="c1"># Move to appropriate device
</span>        <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="n">device</span> <span class="o">=</span> <span class="s">"cuda"</span>
        <span class="k">elif</span> <span class="n">torch</span><span class="p">.</span><span class="n">backends</span><span class="p">.</span><span class="n">mps</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="n">device</span> <span class="o">=</span> <span class="s">"mps"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">device</span> <span class="o">=</span> <span class="s">"cpu"</span>
            
        <span class="n">models</span><span class="p">[</span><span class="n">model_type</span><span class="p">][</span><span class="n">model_size</span><span class="p">].</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">models</span><span class="p">[</span><span class="n">model_type</span><span class="p">][</span><span class="n">model_size</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">generate_audio</span><span class="p">(</span><span class="n">model_type</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">model_size</span><span class="p">,</span> <span class="n">temperature</span><span class="p">):</span>
    <span class="s">"""Generate audio with either MusicGen or AudioGen."""</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">get_model</span><span class="p">(</span><span class="n">model_type</span><span class="p">,</span> <span class="n">model_size</span><span class="p">)</span>
    
    <span class="c1"># Set generation parameters
</span>    <span class="n">model</span><span class="p">.</span><span class="n">set_generation_params</span><span class="p">(</span>
        <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span>
        <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span>
    <span class="p">)</span>
    
    <span class="c1"># Generate audio
</span>    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Generating </span><span class="si">{</span><span class="n">model_type</span><span class="si">}</span><span class="s"> audio: '</span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s">'"</span><span class="p">)</span>
    <span class="n">wav</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">([</span><span class="n">prompt</span><span class="p">])</span>
    
    <span class="c1"># Return audio for playback
</span>    <span class="k">return</span> <span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">sample_rate</span><span class="p">,</span> <span class="n">wav</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">cpu</span><span class="p">().</span><span class="n">numpy</span><span class="p">())</span>

<span class="c1"># Create the dual interface
</span><span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Blocks</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">"AudioCraft: MusicGen vs AudioGen"</span><span class="p">)</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
    <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"# AudioCraft: MusicGen vs AudioGen"</span><span class="p">)</span>
    <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"Compare music generation and sound effect generation from the same prompt"</span><span class="p">)</span>
    
    <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
        <span class="n">prompt_input</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Textbox</span><span class="p">(</span>
            <span class="n">label</span><span class="o">=</span><span class="s">"Audio Description"</span><span class="p">,</span> 
            <span class="n">placeholder</span><span class="o">=</span><span class="s">"Enter a description of the audio you want to generate"</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s">"Thunderstorm with heavy rain and distant thunder"</span><span class="p">,</span>
            <span class="n">lines</span><span class="o">=</span><span class="mi">3</span>
        <span class="p">)</span>
    
    <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
        <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">():</span>
            <span class="n">music_model_size</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Radio</span><span class="p">(</span>
                <span class="p">[</span><span class="s">"small"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">],</span> 
                <span class="n">label</span><span class="o">=</span><span class="s">"MusicGen Model Size"</span><span class="p">,</span> 
                <span class="n">value</span><span class="o">=</span><span class="s">"small"</span>
            <span class="p">)</span>
            <span class="n">music_temperature</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                <span class="n">minimum</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> 
                <span class="n">label</span><span class="o">=</span><span class="s">"Temperature"</span>
            <span class="p">)</span>
        
        <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">():</span>
            <span class="n">audio_model_size</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Radio</span><span class="p">(</span>
                <span class="p">[</span><span class="s">"small"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">,</span> <span class="s">"large"</span><span class="p">],</span> 
                <span class="n">label</span><span class="o">=</span><span class="s">"AudioGen Model Size"</span><span class="p">,</span> 
                <span class="n">value</span><span class="o">=</span><span class="s">"small"</span>
            <span class="p">)</span>
            <span class="n">audio_temperature</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                <span class="n">minimum</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> 
                <span class="n">label</span><span class="o">=</span><span class="s">"Temperature"</span>
            <span class="p">)</span>
    
    <span class="n">duration</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
        <span class="n">minimum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> 
        <span class="n">label</span><span class="o">=</span><span class="s">"Duration (seconds)"</span>
    <span class="p">)</span>
    
    <span class="n">generate_btn</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Button</span><span class="p">(</span><span class="s">"Generate Both"</span><span class="p">,</span> <span class="n">variant</span><span class="o">=</span><span class="s">"primary"</span><span class="p">)</span>
    
    <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Row</span><span class="p">():</span>
        <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">():</span>
            <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"### MusicGen Output"</span><span class="p">)</span>
            <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"Optimized for music generation"</span><span class="p">)</span>
            <span class="n">music_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">"Generated Music"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">"numpy"</span><span class="p">)</span>
            
        <span class="k">with</span> <span class="n">gr</span><span class="p">.</span><span class="n">Column</span><span class="p">():</span>
            <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"### AudioGen Output"</span><span class="p">)</span>
            <span class="n">gr</span><span class="p">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s">"Optimized for sound effects and environmental audio"</span><span class="p">)</span>
            <span class="n">audio_output</span> <span class="o">=</span> <span class="n">gr</span><span class="p">.</span><span class="n">Audio</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">"Generated Sound"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">"numpy"</span><span class="p">)</span>
    
    <span class="c1"># Event handler for generation
</span>    <span class="n">generate_btn</span><span class="p">.</span><span class="n">click</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">p</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">ms</span><span class="p">,</span> <span class="n">mt</span><span class="p">:</span> <span class="n">generate_audio</span><span class="p">(</span><span class="s">"MusicGen"</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">ms</span><span class="p">,</span> <span class="n">mt</span><span class="p">),</span>
        <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="n">prompt_input</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">music_model_size</span><span class="p">,</span> <span class="n">music_temperature</span><span class="p">],</span>
        <span class="n">outputs</span><span class="o">=</span><span class="n">music_output</span>
    <span class="p">)</span>
    
    <span class="n">generate_btn</span><span class="p">.</span><span class="n">click</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">p</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">ms</span><span class="p">,</span> <span class="n">mt</span><span class="p">:</span> <span class="n">generate_audio</span><span class="p">(</span><span class="s">"AudioGen"</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">ms</span><span class="p">,</span> <span class="n">mt</span><span class="p">),</span>
        <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="n">prompt_input</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">audio_model_size</span><span class="p">,</span> <span class="n">audio_temperature</span><span class="p">],</span>
        <span class="n">outputs</span><span class="o">=</span><span class="n">audio_output</span>
    <span class="p">)</span>

<span class="c1"># Launch the demo
</span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">demo</span><span class="p">.</span><span class="n">launch</span><span class="p">()</span>
</code></pre></div></div>

<p>This interface allows users to compare MusicGen and AudioGen outputs from the same prompt, helping them understand the differences between the models.</p>

<h2 id="example-prompt-libraries">Example Prompt Libraries</h2>

<p>Adding a built-in prompt library helps users get started:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Add these prompt libraries to your interface
</span><span class="n">music_prompts</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"Electronic"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"A pulsing electronic dance track with driving beats and arpeggiated synthesizers"</span><span class="p">,</span>
        <span class="s">"A futuristic synthwave track with retro 80s feel and modern production"</span><span class="p">,</span>
        <span class="s">"A melodic techno piece with hypnotic rhythm and evolving textures"</span>
    <span class="p">],</span>
    <span class="s">"Orchestral"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"An epic orchestral piece with soaring strings and powerful brass"</span><span class="p">,</span>
        <span class="s">"A delicate classical composition featuring piano and string quartet"</span><span class="p">,</span>
        <span class="s">"A dramatic film score with tense percussion and emotional strings"</span>
    <span class="p">],</span>
    <span class="s">"Ambient"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"A peaceful ambient soundscape with gentle pads and subtle textures"</span><span class="p">,</span>
        <span class="s">"A meditative drone piece with evolving timbres and spatial effects"</span><span class="p">,</span>
        <span class="s">"A calm atmospheric track with field recordings and soft synthesizers"</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="n">sound_prompts</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"Nature"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"Forest ambience with birds, wind in trees, and distant stream"</span><span class="p">,</span>
        <span class="s">"Ocean waves crashing on a rocky shore with seagulls"</span><span class="p">,</span>
        <span class="s">"Thunderstorm with heavy rain, wind, and rolling thunder"</span>
    <span class="p">],</span>
    <span class="s">"Urban"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"Busy city street with traffic, conversations, and construction"</span><span class="p">,</span>
        <span class="s">"Subway station with train arrivals, announcements, and footsteps"</span><span class="p">,</span>
        <span class="s">"Cafe ambience with coffee machines, quiet conversations, and background music"</span>
    <span class="p">],</span>
    <span class="s">"Mechanical"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"Old mechanical clock with ticking, gears, and chimes"</span><span class="p">,</span>
        <span class="s">"Factory machinery with rhythmic metallic sounds and steam"</span><span class="p">,</span>
        <span class="s">"Vintage car engine starting, idling, and accelerating"</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Then add dropdown or button components to select these prompts
</span></code></pre></div></div>

<h2 id="conclusion">Conclusion</h2>

<p>This tutorial has shown you how to build interactive web interfaces for AudioCraft using Gradio. From a simple one-function interface to advanced applications with tabs, visualization, and multiple models, Gradio makes it easy to showcase audio generation capabilities.</p>

<p>Key takeaways include:</p>
<ul>
  <li>Gradio provides a quick way to create UIs for AudioCraft models</li>
  <li>Advanced interfaces can include visualizations and audio comparison</li>
  <li>A good interface should include presets and examples for users</li>
  <li>Models can be cached to improve performance</li>
  <li>Gradio apps can be easily shared and deployed</li>
</ul>

<p>By creating intuitive interfaces, you make AI audio generation accessible to users without technical knowledge of the underlying models.</p>

<h2 id="next-steps">Next Steps</h2>

<ul>
  <li>Check out the <a href="react_integration.md">React Integration Guide</a> for more advanced web applications</li>
  <li>See <a href="/practical-meta-audiocraft/tutorials/deployment/docker_containerization/">Deployment Strategies</a> for hosting your Gradio app</li>
  <li>Learn about <a href="/practical-meta-audiocraft/tutorials/deployment/rest_api/">API Development</a> to serve AudioCraft models to multiple clients</li>
</ul>

        </div>
      </main>

      <footer class="site-footer">
        <div class="container">
          <div class="footer-col-wrapper">
            <div class="footer-col">
              <p>A hands-on guide to creating music, sound effects, and audio experiences with AI</p>
              <p>
                <a href="https://github.com/facebookresearch/audiocraft">AudioCraft GitHub Repository</a>
              </p>
            </div>
            <div class="footer-col">
              <p class="copyright">
                Copyright © 2025 Scott Friedman.<br>
                Licensed under <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a>.
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>