<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Basic Usage: Your First Steps with AudioCraft</title>
  <meta name="description" content="A hands-on guide to creating music, sound effects, and audio experiences with AI">
  <link rel="canonical" href="https://scttfrdmn.github.io/practical-meta-audiocraft/tutorials/getting-started/basic-usage/">
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .wrapper {
      max-width: 100%;
    }
    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 20px;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 2rem;
      margin-bottom: 1rem;
    }
    h1 { color: #1a73e8; }
    h2 { color: #34a853; }
    a {
      color: #1a73e8;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .site-header {
      border-bottom: 1px solid #eee;
      padding: 15px 0;
      margin-bottom: 30px;
    }
    .site-title {
      margin: 0;
      font-size: 1.8rem;
    }
    .site-title a {
      color: #1a73e8;
      text-decoration: none;
    }
    .site-nav {
      float: right;
      margin-top: 10px;
    }
    .site-nav .page-link {
      margin-left: 20px;
    }
    .nav-trigger {
      display: none;
    }
    .menu-icon {
      display: none;
    }
    .page-content {
      padding: 20px 0;
    }
    .site-footer {
      border-top: 1px solid #eee;
      padding: 30px 0;
      margin-top: 60px;
    }
    .footer-col-wrapper {
      display: flex;
      flex-wrap: wrap;
    }
    .footer-col {
      flex: 1;
      min-width: 200px;
      padding-right: 20px;
    }
    code {
      background-color: #f5f5f5;
      padding: 2px 5px;
      border-radius: 3px;
    }
    pre {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
    }
    .highlight {
      background-color: #f5f5f5;
      border-radius: 5px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px 12px;
    }
    th {
      background-color: #f5f5f5;
      text-align: left;
    }
    button, .button {
      display: inline-block;
      background-color: #1a73e8;
      color: white !important;
      padding: 10px 20px;
      border-radius: 4px;
      font-weight: bold;
      margin-top: 20px;
      border: none;
      cursor: pointer;
      text-decoration: none !important;
    }
    button:hover, .button:hover {
      background-color: #0d65d9;
    }
    .feature {
      background-color: #f5f5f5;
      border-radius: 8px;
      padding: 20px;
      border-left: 4px solid #1a73e8;
      margin-bottom: 20px;
    }
    
    @media screen and (max-width: 600px) {
      .site-nav {
        position: absolute;
        top: 70px;
        right: 20px;
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 5px;
        text-align: right;
        padding: 0;
        z-index: 1;
      }
      .site-nav .page-link {
        display: block;
        padding: 10px;
        margin: 0;
      }
      .site-nav .menu-icon {
        display: block;
        float: right;
        width: 36px;
        height: 26px;
        line-height: 0;
        padding-top: 10px;
        text-align: center;
      }
      .site-nav .trigger {
        clear: both;
        display: none;
      }
      .site-nav input:checked ~ .trigger {
        display: block;
        padding-bottom: 5px;
      }
      .footer-col-wrapper {
        flex-direction: column;
      }
      .footer-col {
        margin-bottom: 20px;
      }
    }
  </style>
</head><body>
    <div class="wrapper">
      <header class="site-header">
        <div class="container">
          <h1 class="site-title"><a href="/practical-meta-audiocraft/">Practical Meta AudioCraft</a></h1>
          <nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger" />
            <label for="nav-trigger">
              <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                  <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484c0-0.82,0.665-1.485,1.484-1.485 h15.032C17.335,0,18,0.665,18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516 c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,6.031,18,6.696,18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516c0-0.82,0.665-1.483,1.484-1.483h15.032 C17.335,12.031,18,12.696,18,13.516z"/>
                </svg>
              </span>
            </label>

            <div class="trigger">
              <a class="page-link" href="/practical-meta-audiocraft/">Home</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part1/introduction/">Getting Started</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part2/basic-music/">MusicGen</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part3/introduction-to-audiogen/">AudioGen</a>
              <a class="page-link" href="/practical-meta-audiocraft/tutorials/getting-started/">Tutorials</a>
            </div>
          </nav>
        </div>
      </header>

      <main class="page-content" aria-label="Content">
        <div class="container">
          <article class="post">

  <header class="post-header">
    <h1 class="post-title">Basic Usage: Your First Steps with AudioCraft</h1>
  </header>

  <div class="post-content">
    <h1 id="basic-usage-your-first-steps-with-audiocraft">Basic Usage: Your First Steps with AudioCraft</h1>

<p>This tutorial will guide you through your first steps with AudioCraft, creating a simple “Hello World” example of audio generation.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>AudioCraft successfully installed (<a href="/practical-meta-audiocraft/tutorials/getting-started/">see installation guides</a>)</li>
  <li>Basic familiarity with Python and PyTorch</li>
  <li>A text editor or Python IDE</li>
</ul>

<h2 id="understanding-the-audiocraft-api">Understanding the AudioCraft API</h2>

<p>AudioCraft provides several key models, but we’ll begin with MusicGen, which is the easiest to get started with.</p>

<p>The basic workflow is:</p>
<ol>
  <li>Load a pretrained model</li>
  <li>Set generation parameters</li>
  <li>Generate audio with text prompts</li>
  <li>Save or play the resulting audio</li>
</ol>

<h2 id="your-first-audio-generation">Your First Audio Generation</h2>

<p>Let’s create a simple script that generates a short piece of music from a text description:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># first_generation.py
</span><span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">torchaudio</span>
<span class="kn">from</span> <span class="nn">audiocraft.models</span> <span class="kn">import</span> <span class="n">MusicGen</span>
<span class="kn">from</span> <span class="nn">audiocraft.data.audio</span> <span class="kn">import</span> <span class="n">audio_write</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">generate_music</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">output_path</span><span class="o">=</span><span class="s">"output"</span><span class="p">):</span>
    <span class="s">"""
    Generate music based on a text prompt.
    
    Args:
        prompt (str): Text description of the music to generate
        duration (float): Length of audio in seconds
        output_path (str): Directory to save audio files
    """</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Generating '</span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s">'..."</span><span class="p">)</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
    
    <span class="c1"># Check if MPS (Mac Metal) is available, otherwise use CUDA or CPU
</span>    <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">backends</span><span class="p">.</span><span class="n">mps</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="n">device</span> <span class="o">=</span> <span class="s">"mps"</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Using MPS (Metal) for generation"</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="n">device</span> <span class="o">=</span> <span class="s">"cuda"</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Using CUDA for generation"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">device</span> <span class="o">=</span> <span class="s">"cpu"</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Using CPU for generation (this will be slow)"</span><span class="p">)</span>
    
    <span class="c1"># Load the model - 'small' is fastest, 'medium' or 'large' for higher quality
</span>    <span class="n">model</span> <span class="o">=</span> <span class="n">MusicGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="s">'small'</span><span class="p">)</span>
    <span class="n">model</span><span class="p">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    
    <span class="c1"># Set generation parameters
</span>    <span class="n">model</span><span class="p">.</span><span class="n">set_generation_params</span><span class="p">(</span>
        <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span>  <span class="c1"># seconds
</span>        <span class="n">temperature</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>    <span class="c1"># Controls randomness (higher = more random)
</span>        <span class="n">top_k</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span>          <span class="c1"># Samples only from the k most likely tokens
</span>        <span class="n">top_p</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>          <span class="c1"># Nucleus sampling (0.0 = disabled)
</span>    <span class="p">)</span>
    
    <span class="c1"># Generate audio from text prompt
</span>    <span class="n">wav</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">([</span><span class="n">prompt</span><span class="p">])</span>  <span class="c1"># Generate a single sample
</span>    
    <span class="c1"># Save the generated audio
</span>    <span class="n">audio_write</span><span class="p">(</span>
        <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">output_path</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">prompt</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span> <span class="s">'_'</span><span class="p">)[:</span><span class="mi">20</span><span class="p">]</span><span class="si">}</span><span class="s">"</span><span class="p">,</span> 
        <span class="n">wav</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">cpu</span><span class="p">(),</span>       <span class="c1"># Move back to CPU for saving
</span>        <span class="n">model</span><span class="p">.</span><span class="n">sample_rate</span><span class="p">,</span>
        <span class="n">strategy</span><span class="o">=</span><span class="s">"loudness"</span>  <span class="c1"># Normalize loudness
</span>    <span class="p">)</span>
    
    <span class="n">generation_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Generation completed in </span><span class="si">{</span><span class="n">generation_time</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> seconds"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Audio saved to </span><span class="si">{</span><span class="n">output_path</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">prompt</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span> <span class="s">'_'</span><span class="p">)[:</span><span class="mi">20</span><span class="p">]</span><span class="si">}</span><span class="s">.wav"</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">wav</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="c1"># Create a simple prompt
</span>    <span class="n">prompt</span> <span class="o">=</span> <span class="s">"Happy acoustic guitar melody with piano"</span>
    
    <span class="c1"># Generate the music
</span>    <span class="n">generate_music</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="running-the-example">Running the Example</h3>

<ol>
  <li>Create a new Python file called <code class="language-plaintext highlighter-rouge">first_generation.py</code> with the code above</li>
  <li>Create an <code class="language-plaintext highlighter-rouge">output</code> directory in the same location</li>
  <li>Run the script with: <code class="language-plaintext highlighter-rouge">python first_generation.py</code></li>
</ol>

<p>The script will:</p>
<ul>
  <li>Check for available hardware acceleration (Metal, CUDA, or CPU)</li>
  <li>Load the smallest MusicGen model</li>
  <li>Generate approximately 5 seconds of music based on the prompt</li>
  <li>Save the result to the output directory as a WAV file</li>
</ul>

<h2 id="understanding-the-parameters">Understanding the Parameters</h2>

<p>Let’s break down some key parameters you can adjust:</p>

<h3 id="model-size">Model Size</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span> <span class="o">=</span> <span class="n">MusicGen</span><span class="p">.</span><span class="n">get_pretrained</span><span class="p">(</span><span class="s">'small'</span><span class="p">)</span>  <span class="c1"># Options: 'small', 'medium', 'large'
</span></code></pre></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">small</code>: Fastest, lowest quality, requires less memory</li>
  <li><code class="language-plaintext highlighter-rouge">medium</code>: Balanced quality and speed</li>
  <li><code class="language-plaintext highlighter-rouge">large</code>: Highest quality, slowest, requires more memory</li>
</ul>

<h3 id="generation-parameters">Generation Parameters</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="n">set_generation_params</span><span class="p">(</span>
    <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span>
    <span class="n">temperature</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="n">top_k</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span>
    <span class="n">top_p</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">duration</code>: Length of audio in seconds</li>
  <li><code class="language-plaintext highlighter-rouge">temperature</code>: Controls randomness (higher values = more creative/chaotic results)</li>
  <li><code class="language-plaintext highlighter-rouge">top_k</code>: Controls diversity by limiting to the top k most likely tokens</li>
  <li><code class="language-plaintext highlighter-rouge">top_p</code>: Nucleus sampling (alternative to top_k, set to 0 to disable)</li>
</ul>

<h2 id="experimenting-with-prompts">Experimenting with Prompts</h2>

<p>Try modifying the prompt to generate different kinds of music:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Different prompt ideas to try
</span><span class="n">prompts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"Epic orchestral soundtrack with dramatic drums"</span><span class="p">,</span>
    <span class="s">"Gentle piano melody with soft background strings"</span><span class="p">,</span>
    <span class="s">"Upbeat electronic dance music with synths"</span><span class="p">,</span>
    <span class="s">"Jazz trio with walking bass and brushed drums"</span><span class="p">,</span>
    <span class="s">"Lo-fi hip hop beats to relax/study to"</span>
<span class="p">]</span>
</code></pre></div></div>

<h2 id="batch-generation">Batch Generation</h2>

<p>You can generate multiple audio samples at once:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Generate multiple samples in a batch
</span><span class="n">prompts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"Heavy metal guitar riff"</span><span class="p">,</span>
    <span class="s">"Relaxing ambient soundscape"</span><span class="p">,</span>
    <span class="s">"Jazzy piano solo"</span>
<span class="p">]</span>

<span class="n">wavs</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="n">prompts</span><span class="p">)</span>  <span class="c1"># Generates 3 different audio samples
</span>
<span class="c1"># Save each generated audio
</span><span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">wav</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">prompts</span><span class="p">,</span> <span class="n">wavs</span><span class="p">)):</span>
    <span class="n">audio_write</span><span class="p">(</span>
        <span class="sa">f</span><span class="s">"output/batch_</span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s">_</span><span class="si">{</span><span class="n">prompt</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span> <span class="s">'_'</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span><span class="si">}</span><span class="s">"</span><span class="p">,</span> 
        <span class="n">wav</span><span class="p">.</span><span class="n">cpu</span><span class="p">(),</span> 
        <span class="n">model</span><span class="p">.</span><span class="n">sample_rate</span><span class="p">,</span>
        <span class="n">strategy</span><span class="o">=</span><span class="s">"loudness"</span>
    <span class="p">)</span>
</code></pre></div></div>

<h2 id="next-steps">Next Steps</h2>

<p>Now that you’ve created your first audio generation with AudioCraft, you can:</p>

<ol>
  <li>Experiment with different prompts to see how they affect the output</li>
  <li>Try different model sizes to see the quality vs. speed tradeoff</li>
  <li>Adjust the generation parameters to control the output</li>
  <li>Move on to the <a href="/practical-meta-audiocraft/tutorials/musicgen/">MusicGen tutorial</a> for more advanced music generation techniques</li>
</ol>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="common-issues">Common Issues</h3>

<ul>
  <li><strong>Out of Memory Errors</strong>: Try using a smaller model size or shorter duration</li>
  <li><strong>Slow Generation</strong>: First generation is always slower due to model loading</li>
  <li><strong>Unexpected Results</strong>: Refine your prompt to be more specific about instruments, tempo, mood, etc.</li>
</ul>

<h3 id="memory-usage">Memory Usage</h3>

<p>The approximate memory requirements are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">small</code> model: ~2GB VRAM</li>
  <li><code class="language-plaintext highlighter-rouge">medium</code> model: ~4GB VRAM</li>
  <li><code class="language-plaintext highlighter-rouge">large</code> model: ~8GB VRAM</li>
</ul>

<p>For Apple Silicon Macs, unified memory is shared between the CPU and GPU, so ensure you have enough system memory available.</p>

  </div>

</article>

        </div>
      </main>

      <footer class="site-footer">
        <div class="container">
          <div class="footer-col-wrapper">
            <div class="footer-col">
              <p>A hands-on guide to creating music, sound effects, and audio experiences with AI</p>
              <p>
                <a href="https://github.com/facebookresearch/audiocraft">AudioCraft GitHub Repository</a>
              </p>
            </div>
            <div class="footer-col">
              <p class="copyright">
                Copyright © 2025 Scott Friedman.<br>
                Licensed under <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a>.
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>