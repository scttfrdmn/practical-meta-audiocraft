<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Setting Up AudioCraft on Windows and Linux with NVIDIA GPUs</title>
  <meta name="description" content="A hands-on guide to creating music, sound effects, and audio experiences with AI">
  <link rel="canonical" href="https://scttfrdmn.github.io/practical-meta-audiocraft/tutorials/getting-started/windows-linux-cuda/">
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .wrapper {
      max-width: 100%;
    }
    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 20px;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 2rem;
      margin-bottom: 1rem;
    }
    h1 { color: #1a73e8; }
    h2 { color: #34a853; }
    a {
      color: #1a73e8;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .site-header {
      border-bottom: 1px solid #eee;
      padding: 15px 0;
      margin-bottom: 30px;
    }
    .site-title {
      margin: 0;
      font-size: 1.8rem;
    }
    .site-title a {
      color: #1a73e8;
      text-decoration: none;
    }
    .site-nav {
      float: right;
      margin-top: 10px;
    }
    .site-nav .page-link {
      margin-left: 20px;
    }
    .nav-trigger {
      display: none;
    }
    .menu-icon {
      display: none;
    }
    .page-content {
      padding: 20px 0;
    }
    .site-footer {
      border-top: 1px solid #eee;
      padding: 30px 0;
      margin-top: 60px;
    }
    .footer-col-wrapper {
      display: flex;
      flex-wrap: wrap;
    }
    .footer-col {
      flex: 1;
      min-width: 200px;
      padding-right: 20px;
    }
    code {
      background-color: #f5f5f5;
      padding: 2px 5px;
      border-radius: 3px;
    }
    pre {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
    }
    .highlight {
      background-color: #f5f5f5;
      border-radius: 5px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px 12px;
    }
    th {
      background-color: #f5f5f5;
      text-align: left;
    }
    button, .button {
      display: inline-block;
      background-color: #1a73e8;
      color: white !important;
      padding: 10px 20px;
      border-radius: 4px;
      font-weight: bold;
      margin-top: 20px;
      border: none;
      cursor: pointer;
      text-decoration: none !important;
    }
    button:hover, .button:hover {
      background-color: #0d65d9;
    }
    .feature {
      background-color: #f5f5f5;
      border-radius: 8px;
      padding: 20px;
      border-left: 4px solid #1a73e8;
      margin-bottom: 20px;
    }
    
    @media screen and (max-width: 600px) {
      .site-nav {
        position: absolute;
        top: 70px;
        right: 20px;
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 5px;
        text-align: right;
        padding: 0;
        z-index: 1;
      }
      .site-nav .page-link {
        display: block;
        padding: 10px;
        margin: 0;
      }
      .site-nav .menu-icon {
        display: block;
        float: right;
        width: 36px;
        height: 26px;
        line-height: 0;
        padding-top: 10px;
        text-align: center;
      }
      .site-nav .trigger {
        clear: both;
        display: none;
      }
      .site-nav input:checked ~ .trigger {
        display: block;
        padding-bottom: 5px;
      }
      .footer-col-wrapper {
        flex-direction: column;
      }
      .footer-col {
        margin-bottom: 20px;
      }
    }
  </style>
</head><body>
    <div class="wrapper">
      <header class="site-header">
        <div class="container">
          <h1 class="site-title"><a href="/practical-meta-audiocraft/">Practical Meta AudioCraft</a></h1>
          <nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger" />
            <label for="nav-trigger">
              <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                  <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484c0-0.82,0.665-1.485,1.484-1.485 h15.032C17.335,0,18,0.665,18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516 c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,6.031,18,6.696,18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516c0-0.82,0.665-1.483,1.484-1.483h15.032 C17.335,12.031,18,12.696,18,13.516z"/>
                </svg>
              </span>
            </label>

            <div class="trigger">
              <a class="page-link" href="/practical-meta-audiocraft/">Home</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part1/introduction/">Getting Started</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part2/basic-music/">MusicGen</a>
              <a class="page-link" href="/practical-meta-audiocraft/chapters/part3/introduction-to-audiogen/">AudioGen</a>
              <a class="page-link" href="/practical-meta-audiocraft/tutorials/getting-started/">Tutorials</a>
            </div>
          </nav>
        </div>
      </header>

      <main class="page-content" aria-label="Content">
        <div class="container">
          <article class="post">

  <header class="post-header">
    <h1 class="post-title">Setting Up AudioCraft on Windows and Linux with NVIDIA GPUs</h1>
  </header>

  <div class="post-content">
    <h1 id="setting-up-audiocraft-on-windows-and-linux-with-nvidia-gpus">Setting Up AudioCraft on Windows and Linux with NVIDIA GPUs</h1>

<p>This guide will help you set up Meta’s AudioCraft framework on Windows and Linux systems with NVIDIA GPUs using CUDA for hardware acceleration.</p>

<h2 id="system-requirements">System Requirements</h2>

<ul>
  <li>NVIDIA GPU with CUDA support (GTX 1060 6GB or better recommended)</li>
  <li>CUDA Toolkit 11.8 or newer</li>
  <li>Python 3.9 (recommended for AudioCraft)</li>
  <li>At least 8GB system RAM (16GB+ recommended)</li>
  <li>5GB+ free disk space for models and environment</li>
</ul>

<h2 id="installation-steps">Installation Steps</h2>

<h3 id="1-install-cuda-toolkit">1. Install CUDA Toolkit</h3>

<p>First, ensure you have the NVIDIA CUDA Toolkit installed.</p>

<h4 id="windows">Windows</h4>

<ol>
  <li>Download the <a href="https://developer.nvidia.com/cuda-downloads">CUDA Toolkit</a> from NVIDIA’s website</li>
  <li>Run the installer and follow the prompts</li>
  <li>Verify installation by running <code class="language-plaintext highlighter-rouge">nvcc --version</code> in Command Prompt</li>
</ol>

<h4 id="linux-ubuntudebian">Linux (Ubuntu/Debian)</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install CUDA toolkit</span>
<span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> nvidia-cuda-toolkit

<span class="c"># Verify installation</span>
nvcc <span class="nt">--version</span>
</code></pre></div></div>

<h3 id="2-set-up-a-conda-environment">2. Set Up a Conda Environment</h3>

<p>We recommend using Conda to manage your Python environment.</p>

<h4 id="windows-1">Windows</h4>

<ol>
  <li>Download and install <a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a></li>
  <li>Open the Anaconda Prompt from the Start menu</li>
  <li>Create and activate a new environment:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda create <span class="nt">-n</span> audiocraft <span class="nv">python</span><span class="o">=</span>3.9
conda activate audiocraft
</code></pre></div></div>

<h4 id="linux">Linux</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Download and install Miniconda</span>
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh
<span class="c"># Follow the prompts to complete installation</span>

<span class="c"># Create and activate environment</span>
conda create <span class="nt">-n</span> audiocraft <span class="nv">python</span><span class="o">=</span>3.9
conda activate audiocraft
</code></pre></div></div>

<h3 id="3-install-pytorch-with-cuda-support">3. Install PyTorch with CUDA Support</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># For CUDA 11.8</span>
conda <span class="nb">install </span>pytorch torchvision torchaudio pytorch-cuda<span class="o">=</span>11.8 <span class="nt">-c</span> pytorch <span class="nt">-c</span> nvidia

<span class="c"># Or using pip</span>
pip <span class="nb">install </span>torch torchvision torchaudio <span class="nt">--index-url</span> https://download.pytorch.org/whl/cu118
</code></pre></div></div>

<h3 id="4-install-audiocraft">4. Install AudioCraft</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install AudioCraft from PyPI</span>
pip <span class="nb">install </span>audiocraft

<span class="c"># Or install directly from GitHub for the latest version</span>
<span class="c"># pip install git+https://github.com/facebookresearch/audiocraft.git</span>
</code></pre></div></div>

<h3 id="5-install-additional-dependencies">5. Install Additional Dependencies</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install FFmpeg</span>
<span class="c"># Windows (using conda)</span>
conda <span class="nb">install </span>ffmpeg <span class="nt">-c</span> conda-forge

<span class="c"># Linux</span>
<span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> ffmpeg
</code></pre></div></div>

<h2 id="verifying-cuda-support">Verifying CUDA Support</h2>

<p>Create a simple Python script to verify that CUDA is working:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># test_cuda.py
</span><span class="kn">import</span> <span class="nn">torch</span>

<span class="c1"># Check if CUDA is available
</span><span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"CUDA available: </span><span class="si">{</span><span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">()</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
    <span class="c1"># Get device count
</span>    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Device count: </span><span class="si">{</span><span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">device_count</span><span class="p">()</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    
    <span class="c1"># Get device name
</span>    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Device name: </span><span class="si">{</span><span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">get_device_name</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    
    <span class="c1"># Create a tensor on GPU
</span>    <span class="n">cuda_device</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="n">device</span><span class="p">(</span><span class="s">"cuda"</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">cuda_device</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Tensor on CUDA device: </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"CUDA not available. Check your PyTorch installation and GPU drivers."</span><span class="p">)</span>
</code></pre></div></div>

<p>Save this as <code class="language-plaintext highlighter-rouge">test_cuda.py</code> and run it with <code class="language-plaintext highlighter-rouge">python test_cuda.py</code>. If everything is set up correctly, you should see that CUDA is available and information about your GPU.</p>

<h2 id="performance-optimization-for-nvidia-gpus">Performance Optimization for NVIDIA GPUs</h2>

<h3 id="memory-management">Memory Management</h3>

<p>NVIDIA GPUs have dedicated VRAM, which is used for processing models. To optimize performance:</p>

<ol>
  <li><strong>Monitor GPU Memory</strong>: Use <code class="language-plaintext highlighter-rouge">nvidia-smi</code> to monitor VRAM usage</li>
  <li><strong>Batch Size Adjustment</strong>: Start with smaller batch sizes and gradually increase</li>
  <li><strong>Model Size Selection</strong>: Choose appropriate model sizes based on your GPU’s VRAM</li>
</ol>

<h3 id="recommended-settings-for-different-gpus">Recommended Settings for Different GPUs</h3>

<table>
  <thead>
    <tr>
      <th>GPU Model</th>
      <th>VRAM</th>
      <th>MusicGen Model Size</th>
      <th>AudioGen Model Size</th>
      <th>Max Batch Size</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GTX 1060/1660</td>
      <td>6GB</td>
      <td>small</td>
      <td>small</td>
      <td>1-2</td>
      <td>Limit to 10-15 second generations</td>
    </tr>
    <tr>
      <td>RTX 2060/3060</td>
      <td>8GB</td>
      <td>small/medium</td>
      <td>small/medium</td>
      <td>2-4</td>
      <td>Good for standard usage</td>
    </tr>
    <tr>
      <td>RTX 3070/3080</td>
      <td>10GB+</td>
      <td>medium/large</td>
      <td>medium/large</td>
      <td>4-8</td>
      <td>Can handle longer generations</td>
    </tr>
    <tr>
      <td>RTX 3090/4090</td>
      <td>24GB</td>
      <td>large/xlarge</td>
      <td>large</td>
      <td>8-16</td>
      <td>Can handle complex generations</td>
    </tr>
  </tbody>
</table>

<h3 id="cuda-configuration-tips">CUDA Configuration Tips</h3>

<ol>
  <li><strong>Mixed Precision</strong>: Use mixed precision to reduce memory usage and increase speed:</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Enable mixed precision
</span><span class="kn">from</span> <span class="nn">torch.cuda.amp</span> <span class="kn">import</span> <span class="n">autocast</span>

<span class="k">with</span> <span class="n">autocast</span><span class="p">():</span>
    <span class="c1"># Your generation code here
</span>    <span class="n">wav</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="n">prompts</span><span class="p">)</span>
</code></pre></div></div>

<ol>
  <li><strong>Memory Cleanup</strong>: Clear CUDA cache between generations to avoid memory fragmentation:</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">gc</span>

<span class="c1"># After generation
</span><span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">empty_cache</span><span class="p">()</span>
<span class="n">gc</span><span class="p">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="windows-specific-notes">Windows-Specific Notes</h2>

<h3 id="setting-up-the-environment">Setting Up the Environment</h3>

<ol>
  <li>
    <p><strong>Path Length Limitation</strong>: Windows has a path length limit that can sometimes cause issues with deep directory structures. Consider installing in a short path like <code class="language-plaintext highlighter-rouge">C:\Conda</code>.</p>
  </li>
  <li>
    <p><strong>Antivirus Interference</strong>: Some antivirus software may slow down Python or block certain operations. Consider adding exceptions for your Python environment.</p>
  </li>
</ol>

<h3 id="audio-playback">Audio Playback</h3>

<p>On Windows, you can use the <code class="language-plaintext highlighter-rouge">sounddevice</code> library to play generated audio directly:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pip</span> <span class="n">install</span> <span class="n">sounddevice</span>

<span class="c1"># Then in your code
</span><span class="kn">import</span> <span class="nn">sounddevice</span> <span class="k">as</span> <span class="n">sd</span>

<span class="c1"># Play audio (assuming 'wav' is your generated audio and 'sr' is the sample rate)
</span><span class="n">sd</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="n">wav</span><span class="p">.</span><span class="n">cpu</span><span class="p">().</span><span class="n">numpy</span><span class="p">(),</span> <span class="n">sr</span><span class="p">)</span>
<span class="n">sd</span><span class="p">.</span><span class="n">wait</span><span class="p">()</span>  <span class="c1"># Wait for audio to finish playing
</span></code></pre></div></div>

<h2 id="linux-specific-notes">Linux-Specific Notes</h2>

<h3 id="gpu-driver-installation">GPU Driver Installation</h3>

<p>Make sure you have the latest NVIDIA drivers installed:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Ubuntu/Debian</span>
<span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> nvidia-driver-535  <span class="c"># Replace with latest version</span>

<span class="c"># Verify installation</span>
nvidia-smi
</code></pre></div></div>

<h3 id="audio-setup">Audio Setup</h3>

<p>Ensure you have the necessary audio libraries for playback:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Ubuntu/Debian</span>
<span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> libasound2-dev portaudio19-dev libportaudio2 libportaudiocpp0

<span class="c"># Install Python audio libraries</span>
pip <span class="nb">install </span>sounddevice
</code></pre></div></div>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="common-issues">Common Issues</h3>

<ol>
  <li><strong>CUDA Out of Memory Errors</strong>
    <ul>
      <li>Reduce batch size or model size</li>
      <li>Try shorter generation lengths</li>
      <li>Close other GPU-intensive applications</li>
      <li>Use mixed precision training</li>
    </ul>
  </li>
  <li><strong>CUDA Not Found</strong>
    <ul>
      <li>Verify NVIDIA drivers are installed: <code class="language-plaintext highlighter-rouge">nvidia-smi</code></li>
      <li>Check PyTorch CUDA is working: <code class="language-plaintext highlighter-rouge">python -c "import torch; print(torch.cuda.is_available())"</code></li>
      <li>Reinstall PyTorch with the correct CUDA version</li>
    </ul>
  </li>
  <li><strong>Slow Generation Times</strong>
    <ul>
      <li>First generation is always slower due to model loading</li>
      <li>Try running in batches instead of one-by-one</li>
      <li>Use a smaller model size for faster results</li>
    </ul>
  </li>
</ol>

<h3 id="platform-specific-issues">Platform-Specific Issues</h3>

<h4 id="windows-2">Windows</h4>

<ul>
  <li><strong>DLL Not Found Errors</strong>: Make sure your PATH includes the CUDA bin directory</li>
  <li><strong>VSCode issues</strong>: If using VSCode, make sure to select the correct Python interpreter</li>
</ul>

<h4 id="linux-1">Linux</h4>

<ul>
  <li><strong>Permission Issues</strong>: Ensure you have proper permissions for NVIDIA devices: <code class="language-plaintext highlighter-rouge">ls -l /dev/nvidia*</code></li>
  <li><strong>Missing Libraries</strong>: Install necessary libs with <code class="language-plaintext highlighter-rouge">apt install nvidia-cuda-toolkit</code></li>
</ul>

<h2 id="getting-help">Getting Help</h2>

<p>If you encounter issues, check:</p>
<ul>
  <li><a href="https://github.com/facebookresearch/audiocraft/issues">AudioCraft GitHub Issues</a></li>
  <li><a href="https://discuss.pytorch.org/">PyTorch Forums</a></li>
  <li><a href="https://forums.developer.nvidia.com/">NVIDIA Developer Forums</a></li>
</ul>

<h2 id="next-steps">Next Steps</h2>

<p>Now that you have AudioCraft running on your Windows or Linux system with CUDA acceleration, proceed to our <a href="/practical-meta-audiocraft/tutorials/musicgen/">MusicGen tutorial</a> or <a href="/practical-meta-audiocraft/tutorials/audiogen/">AudioGen tutorial</a> to start generating audio!</p>

  </div>

</article>

        </div>
      </main>

      <footer class="site-footer">
        <div class="container">
          <div class="footer-col-wrapper">
            <div class="footer-col">
              <p>A hands-on guide to creating music, sound effects, and audio experiences with AI</p>
              <p>
                <a href="https://github.com/facebookresearch/audiocraft">AudioCraft GitHub Repository</a>
              </p>
            </div>
            <div class="footer-col">
              <p class="copyright">
                Copyright © 2025 Scott Friedman.<br>
                Licensed under <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a>.
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>